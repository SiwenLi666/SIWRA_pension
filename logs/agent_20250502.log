2025-05-02 12:28:41,824 INFO main: Starting server on localhost:9090
2025-05-02 12:28:41,881 INFO main:  Starting system initialization...
2025-05-02 12:28:41,882 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 12:28:41,883 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 12:28:41,884 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 12:28:41,885 INFO main:  Creating new cost tracking database...
2025-05-02 12:28:41,895 INFO main:  System initialization completed successfully
2025-05-02 12:28:55,809 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:28:55,810 INFO main: Session ID: ::1
2025-05-02 12:28:55,811 INFO main: Creating new LangGraph session for ::1
2025-05-02 12:28:55,816 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 12:28:56,192 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:28:56,196 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 12:28:56,196 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 12:28:56,198 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 12:28:56,198 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 12:28:56,199 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 12:28:56,200 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 12:28:56,201 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 12:28:56,201 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 12:28:56,201 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 12:28:56,202 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 12:28:56,202 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 12:28:56,202 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 12:28:56,203 ERROR main: Error running graph: 'VectorRetrieverTool' object has no attribute '_extract_parameters'
2025-05-02 12:28:56,203 INFO main: [chat endpoint] Final response: "Ett fel uppstod: 'VectorRetrieverTool' object has no attribute '_extract_parameters'"
2025-05-02 12:37:42,680 INFO main: Starting server on localhost:9090
2025-05-02 12:37:42,762 INFO main:  Starting system initialization...
2025-05-02 12:37:42,763 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 12:37:42,764 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 12:37:42,765 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 12:37:42,766 INFO main:  Creating new cost tracking database...
2025-05-02 12:37:42,766 INFO main:  System initialization completed successfully
2025-05-02 12:37:46,703 INFO main: Received message: ÔÅ¨vilka avtal har du kolla p√• just nu?
2025-05-02 12:37:46,704 INFO main: Session ID: ::1
2025-05-02 12:37:46,704 INFO main: Creating new LangGraph session for ::1
2025-05-02 12:37:46,708 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 12:37:47,074 INFO main: Processing message: ÔÅ¨vilka avtal har du kolla p√• just nu?
2025-05-02 12:37:47,078 INFO src.graph.pension_graph: Processing question: ÔÅ¨vilka avtal har du kolla p√• just nu?
2025-05-02 12:37:47,078 INFO agent_logger: [AGENT] Start process. State: {'question': '\uf06cvilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 12:37:47,079 INFO agent_logger: [AGENT] Received question: 'ÔÅ¨vilka avtal har du kolla p√• just nu?'
2025-05-02 12:37:47,079 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 12:37:47,080 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 12:37:47,081 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 12:37:47,082 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 12:37:47,082 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 12:37:47,082 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 12:37:47,084 INFO main: Final state from LangGraph: {'question': '\uf06cvilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 12:37:47,084 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 12:37:47,085 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 12:37:47,085 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 12:45:08,695 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:45:08,696 INFO main: Session ID: ::1
2025-05-02 12:45:08,701 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:45:08,703 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 12:45:08,704 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 12:45:08,704 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 12:45:08,705 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 12:45:08,705 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 12:45:08,705 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 12:45:08,707 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 12:45:08,707 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 12:45:08,708 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 12:45:08,709 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 12:45:08,710 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 12:45:08,712 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 12:45:08,712 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 12:49:51,596 INFO main:  Shutting down system...
2025-05-02 12:49:57,874 INFO main: Starting server on localhost:9090
2025-05-02 12:49:57,944 INFO main:  Starting system initialization...
2025-05-02 12:49:57,946 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 12:49:57,946 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 12:49:57,947 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 12:49:57,948 INFO main:  Creating new cost tracking database...
2025-05-02 12:49:57,948 INFO main:  System initialization completed successfully
2025-05-02 12:50:14,438 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:50:14,439 INFO main: Session ID: ::1
2025-05-02 12:50:14,439 INFO main: Creating new LangGraph session for ::1
2025-05-02 12:50:14,445 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 12:50:14,869 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:50:14,872 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 12:50:14,873 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 12:50:14,873 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 12:50:14,874 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 12:50:14,874 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 12:50:14,875 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 12:50:14,875 ERROR agent_logger: [AGENT] Exception in can_handle for SummaryCheckerTool: name 're' is not defined
2025-05-02 12:50:14,875 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 12:50:14,876 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 12:50:14,876 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 12:50:14,877 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 12:50:14,878 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 12:50:14,878 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 12:50:14,879 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 12:51:58,772 INFO main:  Shutting down system...
2025-05-02 12:53:06,760 INFO main: Starting server on localhost:9090
2025-05-02 12:53:06,819 INFO main:  Starting system initialization...
2025-05-02 12:53:06,820 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 12:53:06,821 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 12:53:06,822 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 12:53:06,822 INFO main:  Creating new cost tracking database...
2025-05-02 12:53:06,823 INFO main:  System initialization completed successfully
2025-05-02 12:53:17,539 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:53:17,540 INFO main: Session ID: ::1
2025-05-02 12:53:17,540 INFO main: Creating new LangGraph session for ::1
2025-05-02 12:53:17,546 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 12:53:17,951 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 12:53:17,955 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 12:53:17,955 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 12:53:17,956 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 12:53:17,956 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 12:53:17,957 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 12:53:17,957 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 12:53:17,958 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 12:53:17,959 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 12:53:17,959 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 12:53:17,959 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 12:53:17,961 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 12:53:17,961 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 12:53:17,962 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 12:53:17,962 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:02:18,361 INFO main:  Shutting down system...
2025-05-02 13:02:24,125 INFO main: Starting server on localhost:9090
2025-05-02 13:02:24,182 INFO main:  Starting system initialization...
2025-05-02 13:02:24,183 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:02:24,184 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:02:24,185 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:02:24,185 INFO main:  Creating new cost tracking database...
2025-05-02 13:02:24,185 INFO main:  System initialization completed successfully
2025-05-02 13:03:57,622 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:03:57,623 INFO main: Session ID: ::1
2025-05-02 13:03:57,623 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:03:57,630 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:03:58,025 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:03:58,029 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:03:58,029 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:03:58,030 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:03:58,030 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:03:58,031 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:03:58,032 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:03:58,033 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:03:58,033 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:03:58,034 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:03:58,034 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:03:58,035 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:03:58,036 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:03:58,036 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:03:58,037 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:12:43,871 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:12:43,871 INFO main: Session ID: ::1
2025-05-02 13:12:43,878 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:12:43,880 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:12:43,880 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:12:43,881 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:12:43,881 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:12:43,881 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:12:43,881 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:12:43,882 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:12:43,883 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:12:43,883 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:12:43,883 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:12:43,884 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:12:43,885 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:12:43,885 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:12:43,886 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:21:19,615 INFO main:  Shutting down system...
2025-05-02 13:21:25,564 INFO main: Starting server on localhost:9090
2025-05-02 13:21:25,633 INFO main:  Starting system initialization...
2025-05-02 13:21:25,634 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:21:25,635 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:21:25,636 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:21:25,636 INFO main:  Creating new cost tracking database...
2025-05-02 13:21:25,636 INFO main:  System initialization completed successfully
2025-05-02 13:22:05,671 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:22:05,671 INFO main: Session ID: ::1
2025-05-02 13:22:05,672 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:22:05,676 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:22:06,091 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:22:06,094 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:22:06,095 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:22:06,095 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:22:06,096 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:22:06,097 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:22:06,097 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:22:06,098 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:22:06,099 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:22:06,099 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:22:06,100 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:22:06,101 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:22:06,101 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:22:06,102 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:22:06,102 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:32:18,426 INFO main:  Shutting down system...
2025-05-02 13:34:50,645 INFO main: Starting server on localhost:9090
2025-05-02 13:34:50,703 INFO main:  Starting system initialization...
2025-05-02 13:34:50,704 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:34:50,705 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:34:50,706 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:34:50,706 INFO main:  Creating new cost tracking database...
2025-05-02 13:34:50,707 INFO main:  System initialization completed successfully
2025-05-02 13:37:28,855 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:37:28,856 INFO main: Session ID: ::1
2025-05-02 13:37:28,856 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:37:28,861 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:37:29,258 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:37:29,262 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:37:29,262 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:37:29,263 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:37:29,263 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:37:29,264 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:37:29,265 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:37:29,266 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:37:29,266 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:37:29,267 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:37:29,267 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:37:29,269 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:37:29,269 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:37:29,270 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:37:29,270 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:45:51,782 INFO main:  Shutting down system...
2025-05-02 13:48:49,616 INFO main: Starting server on localhost:9090
2025-05-02 13:48:49,675 INFO main:  Starting system initialization...
2025-05-02 13:48:49,677 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:48:49,678 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:48:49,679 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:48:49,680 INFO main:  Creating new cost tracking database...
2025-05-02 13:48:49,680 INFO main:  System initialization completed successfully
2025-05-02 13:48:55,810 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:48:55,811 INFO main: Session ID: ::1
2025-05-02 13:48:55,811 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:48:55,816 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:48:56,210 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:48:56,213 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:48:56,213 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:48:56,214 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:48:56,214 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:48:56,215 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:48:56,215 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:48:56,216 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:48:56,217 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:48:56,217 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:48:56,217 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:48:56,218 WARNING agent_logger: [AGENT] FELL THROUGH TOOL LOOP! Returning fallback state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:48:56,219 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:48:56,219 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:48:56,220 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:48:56,220 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:51:20,906 INFO main:  Shutting down system...
2025-05-02 13:51:30,106 INFO main: Starting server on localhost:9090
2025-05-02 13:51:30,164 INFO main:  Starting system initialization...
2025-05-02 13:51:30,166 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:51:30,167 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:51:30,167 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:51:30,168 INFO main:  Creating new cost tracking database...
2025-05-02 13:51:30,168 INFO main:  System initialization completed successfully
2025-05-02 13:51:46,208 INFO main:  Shutting down system...
2025-05-02 13:52:33,394 INFO main: Starting server on localhost:9090
2025-05-02 13:52:33,452 INFO main:  Starting system initialization...
2025-05-02 13:52:33,453 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:52:33,455 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:52:33,457 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:52:33,458 INFO main:  Creating new cost tracking database...
2025-05-02 13:52:33,459 INFO main:  System initialization completed successfully
2025-05-02 13:53:36,528 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:36,529 INFO main: Session ID: ::1
2025-05-02 13:53:36,529 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:53:36,535 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:53:36,923 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:36,926 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:36,926 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:53:36,927 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:53:36,927 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:53:36,928 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:53:36,929 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:53:36,930 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:53:36,930 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:53:36,931 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:53:36,931 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:53:36,931 WARNING agent_logger: [AGENT] FELL THROUGH TOOL LOOP! Returning fallback state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:53:36,933 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'}
2025-05-02 13:53:36,934 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response']
2025-05-02 13:53:36,934 INFO main: Tyv√§rr kunde jag inte svara p√• din fr√•ga.
2025-05-02 13:53:36,935 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte svara p√• din fr√•ga.'
2025-05-02 13:53:46,802 INFO main:  Shutting down system...
2025-05-02 13:53:53,295 INFO main: Starting server on localhost:9090
2025-05-02 13:53:53,409 INFO main:  Starting system initialization...
2025-05-02 13:53:53,412 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 13:53:53,413 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 13:53:53,414 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 13:53:53,415 INFO main:  Creating new cost tracking database...
2025-05-02 13:53:53,415 INFO main:  System initialization completed successfully
2025-05-02 13:53:57,056 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:57,056 INFO main: Session ID: ::1
2025-05-02 13:53:57,057 INFO main: Creating new LangGraph session for ::1
2025-05-02 13:53:57,064 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 13:53:57,470 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:57,473 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 13:53:57,473 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:53:57,474 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:53:57,474 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:53:57,475 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:53:57,475 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:53:57,477 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:53:57,477 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:53:57,478 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:53:57,480 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:53:57,481 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 13:53:57,481 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 2108914665728; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:53:57,482 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 2108914665728; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:53:57,482 INFO src.tools.summary_checker: Running summary checker tool with question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 13:53:57,483 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:53:57,483 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:53:57,484 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 13:53:57,484 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:53:57,485 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 2108914665728; result: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 13:53:57,486 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 13:53:57,487 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 13:53:57,488 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 13:53:57,488 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 13:53:57,489 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 13:55:33,462 INFO main: Received message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 13:55:33,463 INFO main: Session ID: ::1
2025-05-02 13:55:33,466 INFO main: Processing message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 13:55:33,467 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 13:55:33,468 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 13:55:33,468 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?'
2025-05-02 13:55:33,468 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 13:55:33,469 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 13:55:33,469 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 13:55:33,470 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:55:33,471 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:55:33,471 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 13:55:33,472 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 13:55:33,472 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 13:55:33,472 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 2110970498368; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:55:33,473 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 2110970498368; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 13:55:33,473 INFO src.tools.summary_checker: Running summary checker tool with question: 'vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?'
2025-05-02 13:55:33,475 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 13:55:33,476 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:55:33,476 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 13:55:33,477 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 13:55:33,477 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 2110970498368; result: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 13:55:33,478 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 13:55:33,480 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 13:55:33,481 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 13:55:33,481 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 13:55:33,481 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:05:45,196 INFO main:  Shutting down system...
2025-05-02 14:05:51,831 INFO main: Starting server on localhost:9090
2025-05-02 14:05:51,897 INFO main:  Starting system initialization...
2025-05-02 14:05:51,899 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:05:51,900 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:05:51,901 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:05:51,902 INFO main:  Creating new cost tracking database...
2025-05-02 14:05:51,903 INFO main:  System initialization completed successfully
2025-05-02 14:06:00,533 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 14:06:00,533 INFO main: Session ID: ::1
2025-05-02 14:06:00,534 INFO main: Creating new LangGraph session for ::1
2025-05-02 14:06:00,539 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 14:06:00,972 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 14:06:00,975 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 14:06:00,976 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:06:00,976 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 14:06:00,977 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:06:00,977 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:06:00,978 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:06:00,979 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:06:00,979 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:06:00,980 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 14:06:00,980 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 14:06:00,980 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 14:06:00,981 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 3063635851840; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:06:00,981 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 3063635851840; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:06:00,982 INFO src.tools.summary_checker: Running summary checker tool with question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 14:06:00,983 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:06:00,983 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:06:00,983 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:06:00,984 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:06:00,984 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 3063635851840; result: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:06:00,985 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:06:00,986 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:06:00,986 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 14:06:00,987 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 14:06:00,987 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:06:06,484 INFO main: Received message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:06:06,484 INFO main: Session ID: ::1
2025-05-02 14:06:06,487 INFO main: Processing message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:06:06,488 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:06:06,489 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:06:06,489 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?'
2025-05-02 14:06:06,490 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:06:06,490 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:06:06,490 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:06:06,491 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:06:06,492 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:06:06,492 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:06:06,492 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:06:06,493 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:06:06,493 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:06:06,493 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 3063630812160; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:06:06,494 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 3063630812160; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:06:06,495 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:06:07,385 INFO faiss.loader: Loading faiss with AVX2 support.
2025-05-02 14:06:07,463 INFO faiss.loader: Successfully loaded faiss with AVX2 support.
2025-05-02 14:06:07,474 INFO faiss: Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-02 14:06:07,496 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:06:07,542 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:06:07,543 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:06:10,907 INFO vector_retriever_logger: Detected 'ikrafttr√§dande' or '√§ndring' in question ‚Äì filtering docs with is_amendment=True
2025-05-02 14:06:10,908 INFO vector_retriever_logger: Returning response: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:06:10,908 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 3063630812160; result: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000002C94EEA6A50>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:06:10,909 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:06:10,910 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000002C94EEA6A50>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:06:10,910 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response']
2025-05-02 14:06:10,911 INFO main: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:06:10,911 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'
2025-05-02 14:06:40,145 INFO main: Received message: ÔÅ¨Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:40,145 INFO main: Session ID: ::1
2025-05-02 14:06:40,148 INFO main: Processing message: ÔÅ¨Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:40,149 INFO src.graph.pension_graph: Processing question: ÔÅ¨Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:40,149 INFO agent_logger: [AGENT] Start process. State: {'question': '\uf06cHur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:06:40,150 INFO agent_logger: [AGENT] Received question: 'ÔÅ¨hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??'
2025-05-02 14:06:40,150 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:06:40,150 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 14:06:40,151 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 14:06:40,161 ERROR main: Error running graph: cannot access local variable 'CalculatorTool' where it is not associated with a value
2025-05-02 14:06:40,161 INFO main: [chat endpoint] Final response: "Ett fel uppstod: cannot access local variable 'CalculatorTool' where it is not associated with a value"
2025-05-02 14:06:46,926 INFO main: Received message: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:46,926 INFO main: Session ID: ::1
2025-05-02 14:06:46,929 INFO main: Processing message: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:46,930 INFO src.graph.pension_graph: Processing question: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??
2025-05-02 14:06:46,931 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:06:46,931 INFO agent_logger: [AGENT] Received question: 'hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r??'
2025-05-02 14:06:46,931 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:06:46,932 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 14:06:46,932 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 14:06:46,933 ERROR main: Error running graph: cannot access local variable 'CalculatorTool' where it is not associated with a value
2025-05-02 14:06:46,933 INFO main: [chat endpoint] Final response: "Ett fel uppstod: cannot access local variable 'CalculatorTool' where it is not associated with a value"
2025-05-02 14:07:03,666 INFO main: Received message: ÔÅ¨Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:07:03,667 INFO main: Session ID: ::1
2025-05-02 14:07:03,669 INFO main: Processing message: ÔÅ¨Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:07:03,671 INFO src.graph.pension_graph: Processing question: ÔÅ¨Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:07:03,671 INFO agent_logger: [AGENT] Start process. State: {'question': '\uf06cHur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:07:03,672 INFO agent_logger: [AGENT] Received question: 'ÔÅ¨hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?'
2025-05-02 14:07:03,672 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:07:03,673 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 14:07:03,673 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 14:07:03,674 ERROR main: Error running graph: cannot access local variable 'CalculatorTool' where it is not associated with a value
2025-05-02 14:07:03,674 INFO main: [chat endpoint] Final response: "Ett fel uppstod: cannot access local variable 'CalculatorTool' where it is not associated with a value"
2025-05-02 14:13:00,464 INFO main:  Shutting down system...
2025-05-02 14:13:07,064 INFO main: Starting server on localhost:9090
2025-05-02 14:13:07,128 INFO main:  Starting system initialization...
2025-05-02 14:13:07,129 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:13:07,130 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:13:07,131 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:13:07,131 INFO main:  Creating new cost tracking database...
2025-05-02 14:13:07,132 INFO main:  System initialization completed successfully
2025-05-02 14:17:10,109 INFO main: Received message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:17:10,110 INFO main: Session ID: ::1
2025-05-02 14:17:10,111 INFO main: Creating new LangGraph session for ::1
2025-05-02 14:17:10,117 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 14:17:10,517 INFO main: Processing message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:17:10,521 INFO src.graph.pension_graph: Processing question: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:17:10,521 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:17:10,522 INFO agent_logger: [AGENT] Received question: 'hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?'
2025-05-02 14:17:10,522 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:17:10,523 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 14:17:10,523 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 14:17:10,524 ERROR main: Error running graph: cannot access local variable 'CalculatorTool' where it is not associated with a value
2025-05-02 14:17:10,524 INFO main: [chat endpoint] Final response: "Ett fel uppstod: cannot access local variable 'CalculatorTool' where it is not associated with a value"
2025-05-02 14:18:15,677 INFO main:  Shutting down system...
2025-05-02 14:18:36,032 INFO main: Starting server on localhost:9090
2025-05-02 14:18:36,101 INFO main:  Starting system initialization...
2025-05-02 14:18:36,102 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:18:36,103 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:18:36,103 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:18:36,104 INFO main:  Creating new cost tracking database...
2025-05-02 14:18:36,104 INFO main:  System initialization completed successfully
2025-05-02 14:18:39,533 INFO main: Received message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:18:39,534 INFO main: Session ID: ::1
2025-05-02 14:18:39,534 INFO main: Creating new LangGraph session for ::1
2025-05-02 14:18:39,538 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 14:18:40,031 INFO main: Processing message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:18:40,034 INFO src.graph.pension_graph: Processing question: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 14:18:40,035 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:18:40,035 INFO agent_logger: [AGENT] Received question: 'hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?'
2025-05-02 14:18:40,035 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:18:40,036 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 14:18:40,036 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 14:18:40,037 INFO agent_logger: [AGENT] After parameter extraction. Extracted: {'age': 45, 'monthly_salary': 35000}, State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 14:18:40,038 INFO agent_logger: [AGENT] After merging/defaulting. Merged: {'age': 45, 'monthly_salary': 35000}, State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 14:18:40,039 INFO agent_logger: [AGENT] Before calling tool: CalculatorTool. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 14:18:40,050 INFO calculator_logger: üßπ Loggen har rensats f√∂r en ny ber√§kning.
2025-05-02 14:18:40,051 INFO calculator_logger: Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65, √•r till pension=20, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0
2025-05-02 14:18:40,052 INFO calculator_logger: Avs√§ttning: 4.5% av 35000 = 1575.0, 30.0% av 0 = 0.0
2025-05-02 14:18:40,052 INFO calculator_logger: L√∂nev√§xlingspremie: 0 * 0.0% = 0
2025-05-02 14:18:40,052 INFO calculator_logger: √Örlig avs√§ttning = 18900.0, m√•natlig = 1575.00
2025-05-02 14:18:40,053 INFO calculator_logger: √Ör 1: ins√§ttning + tillv√§xt = 27025.35
2025-05-02 14:18:40,053 INFO calculator_logger: √Ör 2: ins√§ttning + tillv√§xt = 26521.44
2025-05-02 14:18:40,053 INFO calculator_logger: √Ör 3: ins√§ttning + tillv√§xt = 26026.93
2025-05-02 14:18:40,054 INFO calculator_logger: √Ör 4: ins√§ttning + tillv√§xt = 25541.64
2025-05-02 14:18:40,054 INFO calculator_logger: √Ör 5: ins√§ttning + tillv√§xt = 25065.40
2025-05-02 14:18:40,054 INFO calculator_logger: √Ör 6: ins√§ttning + tillv√§xt = 24598.03
2025-05-02 14:18:40,054 INFO calculator_logger: √Ör 7: ins√§ttning + tillv√§xt = 24139.38
2025-05-02 14:18:40,055 INFO calculator_logger: √Ör 8: ins√§ttning + tillv√§xt = 23689.29
2025-05-02 14:18:40,055 INFO calculator_logger: √Ör 9: ins√§ttning + tillv√§xt = 23247.58
2025-05-02 14:18:40,055 INFO calculator_logger: √Ör 10: ins√§ttning + tillv√§xt = 22814.12
2025-05-02 14:18:40,055 INFO calculator_logger: √Ör 11: ins√§ttning + tillv√§xt = 22388.73
2025-05-02 14:18:40,056 INFO calculator_logger: √Ör 12: ins√§ttning + tillv√§xt = 21971.28
2025-05-02 14:18:40,056 INFO calculator_logger: √Ör 13: ins√§ttning + tillv√§xt = 21561.61
2025-05-02 14:18:40,056 INFO calculator_logger: √Ör 14: ins√§ttning + tillv√§xt = 21159.57
2025-05-02 14:18:40,057 INFO calculator_logger: √Ör 15: ins√§ttning + tillv√§xt = 20765.04
2025-05-02 14:18:40,057 INFO calculator_logger: √Ör 16: ins√§ttning + tillv√§xt = 20377.86
2025-05-02 14:18:40,058 INFO calculator_logger: √Ör 17: ins√§ttning + tillv√§xt = 19997.90
2025-05-02 14:18:40,059 INFO calculator_logger: √Ör 18: ins√§ttning + tillv√§xt = 19625.02
2025-05-02 14:18:40,059 INFO calculator_logger: √Ör 19: ins√§ttning + tillv√§xt = 19259.10
2025-05-02 14:18:40,060 INFO calculator_logger: √Ör 20: ins√§ttning + tillv√§xt = 18900.00
2025-05-02 14:18:40,060 INFO calculator_logger: Totalt kapital med tillv√§xt = 454675.26, m√•natlig pension = 1894.48
2025-05-02 14:18:40,061 INFO agent_logger: [AGENT] After tool run. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.', 'last_calculation': {'input': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 1894, 'total_pension': 454675, 'monthly_contribution': 1575, 'years_to_pension': 20}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 14:18:40,063 INFO main: Final state from LangGraph: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.', 'last_calculation': {'input': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 1894, 'total_pension': 454675, 'monthly_contribution': 1575, 'years_to_pension': 20}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 14:18:40,064 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'user_profile', 'response', 'last_calculation']
2025-05-02 14:18:40,065 INFO main: Cleaned response: Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs ...
2025-05-02 14:18:40,065 INFO main: [chat endpoint] Final response: 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.'
2025-05-02 14:18:50,130 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 14:18:50,130 INFO main: Session ID: ::1
2025-05-02 14:18:50,136 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 14:18:50,138 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 14:18:50,138 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:18:50,139 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 14:18:50,139 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:18:50,140 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:18:50,140 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:18:50,142 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:18:50,142 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:18:50,143 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 14:18:50,144 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 14:18:50,144 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 14:18:50,145 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1981915141824; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:18:50,145 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1981915141824; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:18:50,146 INFO src.tools.summary_checker: Running summary checker tool with question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 14:18:50,148 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:18:50,148 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:18:50,149 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:18:50,149 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:18:50,150 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1981915141824; result: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:18:50,150 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:18:50,152 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:18:50,153 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 14:18:50,154 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 14:18:50,154 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:18:57,129 INFO main: Received message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:18:57,129 INFO main: Session ID: ::1
2025-05-02 14:18:57,132 INFO main: Processing message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:18:57,134 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 14:18:57,134 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:18:57,135 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?'
2025-05-02 14:18:57,135 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:18:57,136 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:18:57,136 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:18:57,137 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:18:57,138 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:18:57,138 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:18:57,138 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:18:57,139 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:18:57,139 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:18:57,139 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1981915141696; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:18:57,141 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1981915141696; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:18:57,142 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:18:58,116 INFO faiss.loader: Loading faiss with AVX2 support.
2025-05-02 14:18:58,142 INFO faiss.loader: Successfully loaded faiss with AVX2 support.
2025-05-02 14:18:58,153 INFO faiss: Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-02 14:18:58,168 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:18:58,217 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:18:58,217 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:18:59,232 INFO vector_retriever_logger: Detected 'ikrafttr√§dande' or '√§ndring' in question ‚Äì filtering docs with is_amendment=True
2025-05-02 14:18:59,233 INFO vector_retriever_logger: Returning response: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:18:59,234 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1981915141696; result: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000001CD735FEA50>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:18:59,235 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:18:59,236 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000001CD735FEA50>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:18:59,237 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response']
2025-05-02 14:18:59,238 INFO main: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:18:59,238 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'
2025-05-02 14:24:25,114 INFO main: Received message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:24:25,114 INFO main: Session ID: ::1
2025-05-02 14:24:25,117 INFO main: Processing message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:24:25,118 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:24:25,119 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:24:25,119 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?'
2025-05-02 14:24:25,120 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:24:25,120 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:24:25,120 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:24:25,122 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:24:25,122 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:24:25,122 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:24:25,123 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:24:25,123 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:24:25,123 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:24:25,124 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1981978441920; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:24:25,124 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1981978441920; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:24:25,125 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:24:25,860 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:24:25,901 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:24:25,901 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:24:26,571 INFO vector_retriever_logger: Detected 'ikrafttr√§dande' or '√§ndring' in question ‚Äì filtering docs with is_amendment=True
2025-05-02 14:24:26,572 INFO vector_retriever_logger: Returning response: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:24:26,572 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1981978441920; result: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000001CD7725FED0>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:24:26,573 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:24:26,574 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x000001CD7725FED0>, 'response': 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'}
2025-05-02 14:24:26,575 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response']
2025-05-02 14:24:26,575 INFO main: Tyv√§rr kunde jag inte hitta n√•gon information om det.
2025-05-02 14:24:26,576 INFO main: [chat endpoint] Final response: 'Tyv√§rr kunde jag inte hitta n√•gon information om det.'
2025-05-02 14:27:41,962 INFO main: Starting server on localhost:9090
2025-05-02 14:27:42,040 INFO main:  Starting system initialization...
2025-05-02 14:27:42,042 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:27:42,042 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:27:42,043 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:27:42,043 INFO main:  Creating new cost tracking database...
2025-05-02 14:27:42,043 INFO main:  System initialization completed successfully
2025-05-02 14:27:42,054 INFO main:  Shutting down system...
2025-05-02 14:28:59,571 INFO main:  Shutting down system...
2025-05-02 14:29:06,054 INFO main: Starting server on localhost:9090
2025-05-02 14:29:06,122 INFO main:  Starting system initialization...
2025-05-02 14:29:06,124 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:29:06,126 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:29:06,128 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:29:06,129 INFO main:  Creating new cost tracking database...
2025-05-02 14:29:06,129 INFO main:  System initialization completed successfully
2025-05-02 14:35:23,876 INFO main: Received message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:35:23,876 INFO main: Session ID: ::1
2025-05-02 14:35:23,876 INFO main: Creating new LangGraph session for ::1
2025-05-02 14:35:23,881 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 14:35:24,253 INFO main: Processing message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:35:24,256 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:35:24,256 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:35:24,257 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?'
2025-05-02 14:35:24,257 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:35:24,258 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:35:24,258 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:35:24,259 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:35:24,260 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:35:24,260 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:35:24,260 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:35:24,261 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:35:24,261 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:35:24,261 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1355286103488; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:35:24,262 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1355286103488; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:35:24,262 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:35:25,162 INFO faiss.loader: Loading faiss with AVX2 support.
2025-05-02 14:35:25,198 INFO faiss.loader: Successfully loaded faiss with AVX2 support.
2025-05-02 14:35:25,207 INFO faiss: Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-02 14:35:25,220 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:35:25,268 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:35:25,268 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:35:29,851 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:35:29,852 INFO vector_retriever_logger: Returning response: √Ör 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>
2025-05-02 14:35:29,853 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1355286103488; result: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013B8D5A5160>, 'response': '√Ör 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:35:29,854 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:35:29,855 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013B8D5A5160>, 'response': '√Ör 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:35:29,857 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:35:29,857 INFO main: Cleaned response: √Ör 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].

<...
2025-05-02 14:35:29,858 INFO main: [chat endpoint] Final response: '√Ör 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>'
2025-05-02 14:39:53,956 INFO main: Received message: Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?
2025-05-02 14:39:53,957 INFO main: Session ID: ::1
2025-05-02 14:39:53,959 INFO main: Processing message: Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?
2025-05-02 14:39:53,960 INFO src.graph.pension_graph: Processing question: Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?
2025-05-02 14:39:53,961 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:39:53,961 INFO agent_logger: [AGENT] Received question: 'vad √§r pa16 och n√§r tr√§der de nya √§ndringarna i kraft?'
2025-05-02 14:39:53,961 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:39:53,962 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:39:53,962 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:39:53,963 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:39:53,964 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:39:53,964 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:39:53,964 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:39:53,965 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:39:53,965 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:39:53,965 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1357166411072; state: {'question': 'Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:39:53,966 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1357166411072; state: {'question': 'Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:39:53,968 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:39:54,730 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:39:54,774 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:39:54,775 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:40:01,745 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:40:01,746 INFO vector_retriever_logger: Returning response: PA 16 √§r ett pensionsavtal. De nya √§ndringarna i PA 16 tr√§der i kraft den 1 januari 2024, om inget annat framg√•r av f√∂rhandlingsprotokollet eller tillh√∂rande bilagor [1][2].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>
2025-05-02 14:40:01,747 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1357166411072; result: {'question': 'Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013BCB735090>, 'response': 'PA 16 √§r ett pensionsavtal. De nya √§ndringarna i PA 16 tr√§der i kraft den 1 januari 2024, om inget annat framg√•r av f√∂rhandlingsprotokollet eller tillh√∂rande bilagor [1][2].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:40:01,748 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:40:01,749 INFO main: Final state from LangGraph: {'question': 'Vad √§r PA16 och n√§r tr√§der de nya √§ndringarna i kraft?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013BCB735090>, 'response': 'PA 16 √§r ett pensionsavtal. De nya √§ndringarna i PA 16 tr√§der i kraft den 1 januari 2024, om inget annat framg√•r av f√∂rhandlingsprotokollet eller tillh√∂rande bilagor [1][2].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:40:01,750 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:40:01,751 INFO main: Cleaned response: PA 16 √§r ett pensionsavtal. De nya √§ndringarna i PA 16 tr√§der i kraft den 1 januari 2024, om inget a...
2025-05-02 14:40:01,751 INFO main: [chat endpoint] Final response: 'PA 16 √§r ett pensionsavtal. De nya √§ndringarna i PA 16 tr√§der i kraft den 1 januari 2024, om inget annat framg√•r av f√∂rhandlingsprotokollet eller tillh√∂rande bilagor [1][2].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>'
2025-05-02 14:41:57,523 INFO main: Received message: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:41:57,524 INFO main: Session ID: ::1
2025-05-02 14:41:57,528 INFO main: Processing message: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:41:57,529 INFO src.graph.pension_graph: Processing question: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:41:57,530 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:41:57,531 INFO agent_logger: [AGENT] Received question: 'vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt pa16?'
2025-05-02 14:41:57,531 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:41:57,532 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:41:57,532 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:41:57,535 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:41:57,535 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:41:57,536 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:41:57,536 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:41:57,537 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:41:57,537 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:41:57,538 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1356320285568; state: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:41:57,538 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1356320285568; state: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:41:57,539 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:41:58,279 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:41:58,321 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:41:58,322 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:42:16,884 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:42:16,886 INFO vector_retriever_logger: Returning response: Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. Arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om en arbetstagare bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, f√∂rfaller f√∂rm√•nen fram till m√•nadsskiftet n√§rmast efter det att anst√§llningen upph√∂rde. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•ga om ett uppskjutet uttag [1].

Ett uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. Dessutom, fr√•n och med den 1 januari 2025, medger inkomstskattelagen att en arbetstagare kan g√∂ra ett eller flera uppeh√•ll med utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen samt att lagen medger √§ndring av utbetalningstiden [5].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>
2025-05-02 14:42:16,896 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1356320285568; result: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013B9118A0D0>, 'response': 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. Arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om en arbetstagare bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, f√∂rfaller f√∂rm√•nen fram till m√•nadsskiftet n√§rmast efter det att anst√§llningen upph√∂rde. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•ga om ett uppskjutet uttag [1].\n\nEtt uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. Dessutom, fr√•n och med den 1 januari 2025, medger inkomstskattelagen att en arbetstagare kan g√∂ra ett eller flera uppeh√•ll med utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen samt att lagen medger √§ndring av utbetalningstiden [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:42:16,905 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:42:16,910 INFO main: Final state from LangGraph: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013B9118A0D0>, 'response': 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. Arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om en arbetstagare bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, f√∂rfaller f√∂rm√•nen fram till m√•nadsskiftet n√§rmast efter det att anst√§llningen upph√∂rde. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•ga om ett uppskjutet uttag [1].\n\nEtt uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. Dessutom, fr√•n och med den 1 januari 2025, medger inkomstskattelagen att en arbetstagare kan g√∂ra ett eller flera uppeh√•ll med utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen samt att lagen medger √§ndring av utbetalningstiden [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:42:16,919 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:42:16,921 INFO main: Cleaned response: Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. Arbetstagare och arbet...
2025-05-02 14:42:16,923 INFO main: [chat endpoint] Final response: 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. Arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om en arbetstagare bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, f√∂rfaller f√∂rm√•nen fram till m√•nadsskiftet n√§rmast efter det att anst√§llningen upph√∂rde. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•ga om ett uppskjutet uttag [1].\n\nEtt uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. Dessutom, fr√•n och med den 1 januari 2025, medger inkomstskattelagen att en arbetstagare kan g√∂ra ett eller flera uppeh√•ll med utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen samt att lagen medger √§ndring av utbetalningstiden [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>'
2025-05-02 14:43:55,385 INFO main: Received message: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:43:55,386 INFO main: Session ID: ::1
2025-05-02 14:43:55,390 INFO main: Processing message: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:43:55,392 INFO src.graph.pension_graph: Processing question: Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?
2025-05-02 14:43:55,393 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:43:55,394 INFO agent_logger: [AGENT] Received question: 'vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt pa16?'
2025-05-02 14:43:55,394 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:43:55,394 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:43:55,395 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:43:55,396 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:43:55,397 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:43:55,397 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:43:55,398 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:43:55,398 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:43:55,399 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:43:55,401 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1356319290112; state: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:43:55,402 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1356319290112; state: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:43:55,403 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:43:56,276 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:43:56,322 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:43:56,322 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:44:13,868 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:44:13,883 INFO vector_retriever_logger: Returning response: Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. En arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om arbetstagaren bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, beh√•ller arbetstagaren inte r√§tten att skjuta upp f√∂rm√•nen [1]. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•gan om ett uppskjutet uttag [1]. 

Det finns ocks√• m√∂jlighet att g√∂ra uppeh√•ll i utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen [5]. Ett uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. 

Observera att dessa regler kan √§ndras √∂ver tid, som det framg√•r av de olika f√∂rhandlingsprotokollen [3].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>
2025-05-02 14:44:13,888 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1356319290112; result: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013BC995F5C0>, 'response': 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. En arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om arbetstagaren bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, beh√•ller arbetstagaren inte r√§tten att skjuta upp f√∂rm√•nen [1]. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•gan om ett uppskjutet uttag [1]. \n\nDet finns ocks√• m√∂jlighet att g√∂ra uppeh√•ll i utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen [5]. Ett uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. \n\nObservera att dessa regler kan √§ndras √∂ver tid, som det framg√•r av de olika f√∂rhandlingsprotokollen [3].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:44:13,919 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:44:13,922 INFO main: Final state from LangGraph: {'question': 'Vilka m√∂jligheter finns det att skjuta upp pensionsutbetalningar enligt PA16?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000013BC995F5C0>, 'response': 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. En arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om arbetstagaren bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, beh√•ller arbetstagaren inte r√§tten att skjuta upp f√∂rm√•nen [1]. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•gan om ett uppskjutet uttag [1]. \n\nDet finns ocks√• m√∂jlighet att g√∂ra uppeh√•ll i utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen [5]. Ett uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. \n\nObservera att dessa regler kan √§ndras √∂ver tid, som det framg√•r av de olika f√∂rhandlingsprotokollen [3].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:44:13,928 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:44:13,929 INFO main: Cleaned response: Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. En arbetstagare och ar...
2025-05-02 14:44:13,932 INFO main: [chat endpoint] Final response: 'Enligt PA16 finns det flera m√∂jligheter att skjuta upp pensionsutbetalningar. En arbetstagare och arbetsgivare kan genom enskild √∂verenskommelse skjuta upp uttag av pensionsf√∂rm√•nen [3]. Om arbetstagaren bryter √∂verenskommelsen ensidigt eller om anst√§llningen avslutas p√• grund av personliga sk√§l, beh√•ller arbetstagaren inte r√§tten att skjuta upp f√∂rm√•nen [1]. I dessa fall kan arbetstagaren, om det finns s√§rskilda sk√§l, beg√§ra att pensionsn√§mnden pr√∂var fr√•gan om ett uppskjutet uttag [1]. \n\nDet finns ocks√• m√∂jlighet att g√∂ra uppeh√•ll i utbetalningarna av √•lderspensionen inom ramen f√∂r tj√§nstepensionen [5]. Ett uppeh√•ll i utbetalningarna hindrar inte en arbetstagares m√∂jligheter att tj√§na in ytterligare tj√§nstepension enligt de best√§mmelser som framg√•r av PA 16 vid anst√§llning inom kollektivavtalsomr√•det [2]. \n\nObservera att dessa regler kan √§ndras √∂ver tid, som det framg√•r av de olika f√∂rhandlingsprotokollen [3].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>'
2025-05-02 14:47:49,428 INFO main: Received message: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:47:49,429 INFO main: Session ID: ::1
2025-05-02 14:47:49,435 INFO main: Processing message: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:47:49,437 INFO src.graph.pension_graph: Processing question: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:47:49,437 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:47:49,438 INFO agent_logger: [AGENT] Received question: 'hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?'
2025-05-02 14:47:49,438 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:47:49,438 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:47:49,439 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:47:49,440 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:47:49,440 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:47:49,440 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 14:47:49,441 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 14:47:49,441 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 14:47:49,441 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1356334068672; state: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:47:49,443 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1356334068672; state: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 14:47:49,444 INFO src.tools.summary_checker: Running summary checker tool with question: 'hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?'
2025-05-02 14:47:49,446 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 14:47:49,446 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:47:49,447 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:47:49,447 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 14:47:49,448 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1356334068672; result: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:47:49,448 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:47:49,450 INFO main: Final state from LangGraph: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 14:47:49,450 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 14:47:49,452 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 14:47:49,452 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 14:51:54,485 INFO main:  Shutting down system...
2025-05-02 14:52:04,836 INFO main: Starting server on localhost:9090
2025-05-02 14:52:04,896 INFO main:  Starting system initialization...
2025-05-02 14:52:04,897 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 14:52:04,898 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 14:52:04,898 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 14:52:04,899 INFO main:  Creating new cost tracking database...
2025-05-02 14:52:04,899 INFO main:  System initialization completed successfully
2025-05-02 14:52:34,728 INFO main: Received message: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:52:34,728 INFO main: Session ID: ::1
2025-05-02 14:52:34,729 INFO main: Creating new LangGraph session for ::1
2025-05-02 14:52:34,735 WARNING main: LangGraph visualization module not available. Visualization features will be disabled.
2025-05-02 14:52:35,153 INFO main: Processing message: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:52:35,156 INFO src.graph.pension_graph: Processing question: Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?
2025-05-02 14:52:35,157 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:52:35,157 INFO agent_logger: [AGENT] Received question: 'hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?'
2025-05-02 14:52:35,157 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:52:35,158 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:52:35,159 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:52:35,160 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:52:35,161 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:52:35,161 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:52:35,162 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:52:35,162 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:52:35,162 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:52:35,163 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1632009254080; state: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:52:35,164 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1632009254080; state: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:52:35,164 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:52:36,008 INFO faiss.loader: Loading faiss with AVX2 support.
2025-05-02 14:52:36,032 INFO faiss.loader: Successfully loaded faiss with AVX2 support.
2025-05-02 14:52:36,040 INFO faiss: Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-02 14:52:36,054 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:52:36,099 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:52:36,100 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:52:42,460 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:52:42,461 INFO vector_retriever_logger: Returning response: En yrkesofficerare kan skjuta upp sin pension tills den m√•nad d√• arbetstagaren fyller 72 √•r. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts vid denna tidpunkt, ska utbetalning av livsvarig √•lderspension p√•b√∂rjas [5].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 7 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li></ul>
2025-05-02 14:52:42,462 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1632009254080; result: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFB6052B0>, 'response': 'En yrkesofficerare kan skjuta upp sin pension tills den m√•nad d√• arbetstagaren fyller 72 √•r. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts vid denna tidpunkt, ska utbetalning av livsvarig √•lderspension p√•b√∂rjas [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 7 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:52:42,464 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:52:42,465 INFO main: Final state from LangGraph: {'question': 'Hur l√§nge kan en yrkesofficerare skjuta upp sin pension enligt √∂verenskommelsen?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFB6052B0>, 'response': 'En yrkesofficerare kan skjuta upp sin pension tills den m√•nad d√• arbetstagaren fyller 72 √•r. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts vid denna tidpunkt, ska utbetalning av livsvarig √•lderspension p√•b√∂rjas [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 7 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:52:42,467 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:52:42,467 INFO main: Cleaned response: En yrkesofficerare kan skjuta upp sin pension tills den m√•nad d√• arbetstagaren fyller 72 √•r. Om √•lde...
2025-05-02 14:52:42,467 INFO main: [chat endpoint] Final response: 'En yrkesofficerare kan skjuta upp sin pension tills den m√•nad d√• arbetstagaren fyller 72 √•r. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts vid denna tidpunkt, ska utbetalning av livsvarig √•lderspension p√•b√∂rjas [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 7 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li></ul>'
2025-05-02 14:54:54,680 INFO main: Received message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:54:54,681 INFO main: Session ID: ::1
2025-05-02 14:54:54,683 INFO main: Processing message: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:54:54,685 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?
2025-05-02 14:54:54,685 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:54:54,686 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?'
2025-05-02 14:54:54,686 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:54:54,687 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:54:54,687 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:54:54,688 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:54:54,688 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:54:54,689 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:54:54,689 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:54:54,689 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:54:54,690 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:54:54,690 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630904542272; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:54:54,691 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630904542272; state: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:54:54,691 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:54:55,441 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:54:55,483 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:54:55,484 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:54:59,350 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:54:59,351 INFO vector_retriever_logger: Returning response: Inf√∂r 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>
2025-05-02 14:54:59,352 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630904542272; result: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF209A90>, 'response': 'Inf√∂r 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:54:59,353 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:54:59,355 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i √•ldersgr√§nser f√∂r socialf√∂rs√§kringsf√∂rm√•ner tr√§dde i kraft 2023?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF209A90>, 'response': 'Inf√∂r 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:54:59,356 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:54:59,357 INFO main: Cleaned response: Inf√∂r 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4]....
2025-05-02 14:54:59,357 INFO main: [chat endpoint] Final response: 'Inf√∂r 2023 h√∂jdes √•ldersgr√§nserna f√∂r utbetalning av vissa socialf√∂rs√§kringsf√∂rm√•ner till 66 √•r [4].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: Stockholm 2023-11-27 | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: saknas | paragraf: saknas</li></ul>'
2025-05-02 14:55:31,147 INFO main: Received message: Vad inneb√§r √Ölderspension flex i PA16-avtalet?
2025-05-02 14:55:31,147 INFO main: Session ID: ::1
2025-05-02 14:55:31,155 INFO main: Processing message: Vad inneb√§r √Ölderspension flex i PA16-avtalet?
2025-05-02 14:55:31,156 INFO src.graph.pension_graph: Processing question: Vad inneb√§r √Ölderspension flex i PA16-avtalet?
2025-05-02 14:55:31,157 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vad inneb√§r √Ölderspension flex i PA16-avtalet?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:55:31,157 INFO agent_logger: [AGENT] Received question: 'vad inneb√§r √•lderspension flex i pa16-avtalet?'
2025-05-02 14:55:31,157 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:55:31,158 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:55:31,158 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:55:31,161 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:55:31,161 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:55:31,162 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:55:31,163 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:55:31,163 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:55:31,164 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:55:31,164 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630897076096; state: {'question': 'Vad inneb√§r √Ölderspension flex i PA16-avtalet?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:55:31,165 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630897076096; state: {'question': 'Vad inneb√§r √Ölderspension flex i PA16-avtalet?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:55:31,166 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:55:32,124 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:55:32,173 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:55:32,174 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:55:50,235 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:55:50,235 INFO vector_retriever_logger: Returning response: √Ölderspension flex i PA16-avtalet inneb√§r att en arbetstagare tillgodor√§knas en premie p√• 0,5 procent av den pensionsgrundande l√∂nen [1]. Denna pension finansieras genom att arbetsgivaren m√•nadsvis betalar en s√§rskild premie till en pensionsf√∂rs√§kring hos en f√∂rs√§kringsgivare som parterna har best√§mt [1]. 

√Ölderspension flex inf√∂rdes f√∂r att finansiera ett l√§ngre intj√§nande av premiebest√§mda pensioner i PA 16 [3]. Detta inneb√§r att arbetstagaren kan forts√§tta att tj√§na in pension √§ven efter 65 √•rs √•lder, under f√∂ruts√§ttning att de forts√§tter sin anst√§llning [1]. 

F√∂rs√§kringsprodukterna f√∂r √•lderspensionerna enligt denna avdelning ska tillhandah√•llas b√•de med och utan √•terbetalningsskydd [2]. 

F√∂r den som efter beslut av arbetsgivaren erh√•ller delpensionsf√∂rm√•n avs√§tts inte premier f√∂r √•lderspension flex under tid med delpension eller vid arbete d√§refter [5]. 

Observera att om en arbetstagare avg√•r i pensioneringssyfte och √•teranst√§lls f√∂re den m√•nad d√• arbetstagaren fyller 65 √•r, g√§ller inte dessa best√§mmelser [1].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>
2025-05-02 14:55:50,238 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630897076096; result: {'question': 'Vad inneb√§r √Ölderspension flex i PA16-avtalet?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF20BB10>, 'response': '√Ölderspension flex i PA16-avtalet inneb√§r att en arbetstagare tillgodor√§knas en premie p√• 0,5 procent av den pensionsgrundande l√∂nen [1]. Denna pension finansieras genom att arbetsgivaren m√•nadsvis betalar en s√§rskild premie till en pensionsf√∂rs√§kring hos en f√∂rs√§kringsgivare som parterna har best√§mt [1]. \n\n√Ölderspension flex inf√∂rdes f√∂r att finansiera ett l√§ngre intj√§nande av premiebest√§mda pensioner i PA 16 [3]. Detta inneb√§r att arbetstagaren kan forts√§tta att tj√§na in pension √§ven efter 65 √•rs √•lder, under f√∂ruts√§ttning att de forts√§tter sin anst√§llning [1]. \n\nF√∂rs√§kringsprodukterna f√∂r √•lderspensionerna enligt denna avdelning ska tillhandah√•llas b√•de med och utan √•terbetalningsskydd [2]. \n\nF√∂r den som efter beslut av arbetsgivaren erh√•ller delpensionsf√∂rm√•n avs√§tts inte premier f√∂r √•lderspension flex under tid med delpension eller vid arbete d√§refter [5]. \n\nObservera att om en arbetstagare avg√•r i pensioneringssyfte och √•teranst√§lls f√∂re den m√•nad d√• arbetstagaren fyller 65 √•r, g√§ller inte dessa best√§mmelser [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:55:50,239 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:55:50,240 INFO main: Final state from LangGraph: {'question': 'Vad inneb√§r √Ölderspension flex i PA16-avtalet?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF20BB10>, 'response': '√Ölderspension flex i PA16-avtalet inneb√§r att en arbetstagare tillgodor√§knas en premie p√• 0,5 procent av den pensionsgrundande l√∂nen [1]. Denna pension finansieras genom att arbetsgivaren m√•nadsvis betalar en s√§rskild premie till en pensionsf√∂rs√§kring hos en f√∂rs√§kringsgivare som parterna har best√§mt [1]. \n\n√Ölderspension flex inf√∂rdes f√∂r att finansiera ett l√§ngre intj√§nande av premiebest√§mda pensioner i PA 16 [3]. Detta inneb√§r att arbetstagaren kan forts√§tta att tj√§na in pension √§ven efter 65 √•rs √•lder, under f√∂ruts√§ttning att de forts√§tter sin anst√§llning [1]. \n\nF√∂rs√§kringsprodukterna f√∂r √•lderspensionerna enligt denna avdelning ska tillhandah√•llas b√•de med och utan √•terbetalningsskydd [2]. \n\nF√∂r den som efter beslut av arbetsgivaren erh√•ller delpensionsf√∂rm√•n avs√§tts inte premier f√∂r √•lderspension flex under tid med delpension eller vid arbete d√§refter [5]. \n\nObservera att om en arbetstagare avg√•r i pensioneringssyfte och √•teranst√§lls f√∂re den m√•nad d√• arbetstagaren fyller 65 √•r, g√§ller inte dessa best√§mmelser [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:55:50,242 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:55:50,242 INFO main: Cleaned response: √Ölderspension flex i PA16-avtalet inneb√§r att en arbetstagare tillgodor√§knas en premie p√• 0,5 procen...
2025-05-02 14:55:50,243 INFO main: [chat endpoint] Final response: '√Ölderspension flex i PA16-avtalet inneb√§r att en arbetstagare tillgodor√§knas en premie p√• 0,5 procent av den pensionsgrundande l√∂nen [1]. Denna pension finansieras genom att arbetsgivaren m√•nadsvis betalar en s√§rskild premie till en pensionsf√∂rs√§kring hos en f√∂rs√§kringsgivare som parterna har best√§mt [1]. \n\n√Ölderspension flex inf√∂rdes f√∂r att finansiera ett l√§ngre intj√§nande av premiebest√§mda pensioner i PA 16 [3]. Detta inneb√§r att arbetstagaren kan forts√§tta att tj√§na in pension √§ven efter 65 √•rs √•lder, under f√∂ruts√§ttning att de forts√§tter sin anst√§llning [1]. \n\nF√∂rs√§kringsprodukterna f√∂r √•lderspensionerna enligt denna avdelning ska tillhandah√•llas b√•de med och utan √•terbetalningsskydd [2]. \n\nF√∂r den som efter beslut av arbetsgivaren erh√•ller delpensionsf√∂rm√•n avs√§tts inte premier f√∂r √•lderspension flex under tid med delpension eller vid arbete d√§refter [5]. \n\nObservera att om en arbetstagare avg√•r i pensioneringssyfte och √•teranst√§lls f√∂re den m√•nad d√• arbetstagaren fyller 65 √•r, g√§ller inte dessa best√§mmelser [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>'
2025-05-02 14:56:09,425 INFO main: Received message: Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?
2025-05-02 14:56:09,426 INFO main: Session ID: ::1
2025-05-02 14:56:09,429 INFO main: Processing message: Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?
2025-05-02 14:56:09,431 INFO src.graph.pension_graph: Processing question: Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?
2025-05-02 14:56:09,431 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:56:09,432 INFO agent_logger: [AGENT] Received question: 'vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?'
2025-05-02 14:56:09,432 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:56:09,432 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:56:09,433 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:56:09,434 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:56:09,434 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:56:09,435 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:56:09,435 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:56:09,435 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:56:09,436 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:56:09,436 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630910453568; state: {'question': 'Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:56:09,437 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630910453568; state: {'question': 'Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:56:09,438 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:56:10,480 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:56:10,538 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:56:10,538 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:56:19,589 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:56:19,591 INFO vector_retriever_logger: Returning response: Tyv√§rr, kontexten du har tillhandah√•llit ger inte specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare. Informationen som finns tillg√§nglig handlar om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1945 eller tidigare, och det n√§mns att tidigare best√§mmelser i PA-91 F ska forts√§tta att till√§mpas f√∂r dessa individer [1][4][5]. F√∂r mer specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare, v√§nligen tillhandah√•ll mer detaljerad information eller kontakta relevant pensionsmyndighet.

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 36 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 6 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li></ul>
2025-05-02 14:56:19,596 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630910453568; result: {'question': 'Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB97936F0>, 'response': 'Tyv√§rr, kontexten du har tillhandah√•llit ger inte specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare. Informationen som finns tillg√§nglig handlar om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1945 eller tidigare, och det n√§mns att tidigare best√§mmelser i PA-91 F ska forts√§tta att till√§mpas f√∂r dessa individer [1][4][5]. F√∂r mer specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare, v√§nligen tillhandah√•ll mer detaljerad information eller kontakta relevant pensionsmyndighet.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 36 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 6 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:56:19,602 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:56:19,608 INFO main: Final state from LangGraph: {'question': 'Vilka √∂verg√•ngsbest√§mmelser g√§ller f√∂r arbetstagare f√∂dda 1965 eller tidigare?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB97936F0>, 'response': 'Tyv√§rr, kontexten du har tillhandah√•llit ger inte specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare. Informationen som finns tillg√§nglig handlar om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1945 eller tidigare, och det n√§mns att tidigare best√§mmelser i PA-91 F ska forts√§tta att till√§mpas f√∂r dessa individer [1][4][5]. F√∂r mer specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare, v√§nligen tillhandah√•ll mer detaljerad information eller kontakta relevant pensionsmyndighet.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 36 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 6 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:56:19,614 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:56:19,617 INFO main: Cleaned response: Tyv√§rr, kontexten du har tillhandah√•llit ger inte specifik information om √∂verg√•ngsbest√§mmelser f√∂r ...
2025-05-02 14:56:19,618 INFO main: [chat endpoint] Final response: 'Tyv√§rr, kontexten du har tillhandah√•llit ger inte specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare. Informationen som finns tillg√§nglig handlar om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1945 eller tidigare, och det n√§mns att tidigare best√§mmelser i PA-91 F ska forts√§tta att till√§mpas f√∂r dessa individer [1][4][5]. F√∂r mer specifik information om √∂verg√•ngsbest√§mmelser f√∂r arbetstagare f√∂dda 1965 eller tidigare, v√§nligen tillhandah√•ll mer detaljerad information eller kontakta relevant pensionsmyndighet.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 36 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 6 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li></ul>'
2025-05-02 14:57:02,115 INFO main: Received message: Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?
2025-05-02 14:57:02,115 INFO main: Session ID: ::1
2025-05-02 14:57:02,117 INFO main: Processing message: Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?
2025-05-02 14:57:02,118 INFO src.graph.pension_graph: Processing question: Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?
2025-05-02 14:57:02,119 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:57:02,119 INFO agent_logger: [AGENT] Received question: 'vad st√•r akap-kr f√∂r och n√§r b√∂rjade avtalet g√§lla?'
2025-05-02 14:57:02,120 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:57:02,120 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:57:02,120 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:57:02,122 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:57:02,122 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:57:02,123 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:57:02,123 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:57:02,123 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:57:02,124 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:57:02,124 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1632078263040; state: {'question': 'Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:57:02,125 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1632078263040; state: {'question': 'Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:57:02,125 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:57:03,084 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:57:03,134 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:57:03,135 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:57:07,544 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:57:07,545 INFO vector_retriever_logger: Returning response: AKAP-KR st√•r f√∂r Avgiftsbest√§md KollektivAvtalad Pension ‚Äì KR. Avtalet b√∂rjade g√§lla fr√•n och med den 1 januari 2014 [1].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>
2025-05-02 14:57:07,546 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1632078263040; result: {'question': 'Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF65FE10>, 'response': 'AKAP-KR st√•r f√∂r Avgiftsbest√§md KollektivAvtalad Pension ‚Äì KR. Avtalet b√∂rjade g√§lla fr√•n och med den 1 januari 2014 [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:57:07,548 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:57:07,549 INFO main: Final state from LangGraph: {'question': 'Vad st√•r AKAP-KR f√∂r och n√§r b√∂rjade avtalet g√§lla?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFF65FE10>, 'response': 'AKAP-KR st√•r f√∂r Avgiftsbest√§md KollektivAvtalad Pension ‚Äì KR. Avtalet b√∂rjade g√§lla fr√•n och med den 1 januari 2014 [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:57:07,550 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:57:07,551 INFO main: Cleaned response: AKAP-KR st√•r f√∂r Avgiftsbest√§md KollektivAvtalad Pension ‚Äì KR. Avtalet b√∂rjade g√§lla fr√•n och med de...
2025-05-02 14:57:07,551 INFO main: [chat endpoint] Final response: 'AKAP-KR st√•r f√∂r Avgiftsbest√§md KollektivAvtalad Pension ‚Äì KR. Avtalet b√∂rjade g√§lla fr√•n och med den 1 januari 2014 [1].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>'
2025-05-02 14:57:34,887 INFO main: Received message: Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?
2025-05-02 14:57:34,888 INFO main: Session ID: ::1
2025-05-02 14:57:34,892 INFO main: Processing message: Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?
2025-05-02 14:57:34,894 INFO src.graph.pension_graph: Processing question: Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?
2025-05-02 14:57:34,894 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 14:57:34,895 INFO agent_logger: [AGENT] Received question: 'vilka regler g√§ller f√∂r kapitalflytt enligt akap-kr?'
2025-05-02 14:57:34,895 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 14:57:34,896 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 14:57:34,896 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 14:57:34,897 INFO src.tools.summary_checker: No matching summary found
2025-05-02 14:57:34,898 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 14:57:34,898 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 14:57:34,898 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 14:57:34,899 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 14:57:34,899 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 14:57:34,899 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630897771712; state: {'question': 'Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:57:34,900 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630897771712; state: {'question': 'Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 14:57:34,900 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 14:57:35,887 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 14:57:35,939 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 14:57:35,940 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 14:57:54,692 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 14:57:54,694 INFO vector_retriever_logger: Returning response: Enligt reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal (AKAP-KR) ska f√∂rs√§kringsgivare erbjuda och meddela traditionell tj√§nstepensionsf√∂rs√§kring och/eller tj√§nstepensionsf√∂rs√§kring i form av fondf√∂rs√§kring f√∂r placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension f√∂r arbetstagare [2]. Arbetstagaren v√§ljer sj√§lv placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension [2].

Om en person som har r√§tt att flytta sitt pensionskapital beg√§r en flytt, har den avgivande f√∂rs√§kringsgivaren r√§tt att ta ut en s√§rskild avgift f√∂r detta. Avgiften f√•r dock inte √∂verstiga det belopp som anges i reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal [3].

En kapitalflytt inneb√§r att hela pensionskapitalet i en eller flera tj√§nstepensionsf√∂rs√§kringar flyttas fr√•n en f√∂rs√§kringsgivare till en tj√§nstepensionsf√∂rs√§kring med samma arbetstagare som f√∂rs√§krad hos samma eller annan f√∂rs√§kringsgivare [5]. En kapitalflytt g√§ller endast det pensionskapital som redan √§r inbetalt. Framtida inbetalningar g√∂rs till den f√∂rs√§kringsgivare arbetstagaren v√§ljer i flyttprocessen [5].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>
2025-05-02 14:57:54,704 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630897771712; result: {'question': 'Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFD70A9F0>, 'response': 'Enligt reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal (AKAP-KR) ska f√∂rs√§kringsgivare erbjuda och meddela traditionell tj√§nstepensionsf√∂rs√§kring och/eller tj√§nstepensionsf√∂rs√§kring i form av fondf√∂rs√§kring f√∂r placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension f√∂r arbetstagare [2]. Arbetstagaren v√§ljer sj√§lv placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension [2].\n\nOm en person som har r√§tt att flytta sitt pensionskapital beg√§r en flytt, har den avgivande f√∂rs√§kringsgivaren r√§tt att ta ut en s√§rskild avgift f√∂r detta. Avgiften f√•r dock inte √∂verstiga det belopp som anges i reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal [3].\n\nEn kapitalflytt inneb√§r att hela pensionskapitalet i en eller flera tj√§nstepensionsf√∂rs√§kringar flyttas fr√•n en f√∂rs√§kringsgivare till en tj√§nstepensionsf√∂rs√§kring med samma arbetstagare som f√∂rs√§krad hos samma eller annan f√∂rs√§kringsgivare [5]. En kapitalflytt g√§ller endast det pensionskapital som redan √§r inbetalt. Framtida inbetalningar g√∂rs till den f√∂rs√§kringsgivare arbetstagaren v√§ljer i flyttprocessen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:57:54,714 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 14:57:54,718 INFO main: Final state from LangGraph: {'question': 'Vilka regler g√§ller f√∂r kapitalflytt enligt AKAP-KR?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFD70A9F0>, 'response': 'Enligt reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal (AKAP-KR) ska f√∂rs√§kringsgivare erbjuda och meddela traditionell tj√§nstepensionsf√∂rs√§kring och/eller tj√§nstepensionsf√∂rs√§kring i form av fondf√∂rs√§kring f√∂r placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension f√∂r arbetstagare [2]. Arbetstagaren v√§ljer sj√§lv placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension [2].\n\nOm en person som har r√§tt att flytta sitt pensionskapital beg√§r en flytt, har den avgivande f√∂rs√§kringsgivaren r√§tt att ta ut en s√§rskild avgift f√∂r detta. Avgiften f√•r dock inte √∂verstiga det belopp som anges i reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal [3].\n\nEn kapitalflytt inneb√§r att hela pensionskapitalet i en eller flera tj√§nstepensionsf√∂rs√§kringar flyttas fr√•n en f√∂rs√§kringsgivare till en tj√§nstepensionsf√∂rs√§kring med samma arbetstagare som f√∂rs√§krad hos samma eller annan f√∂rs√§kringsgivare [5]. En kapitalflytt g√§ller endast det pensionskapital som redan √§r inbetalt. Framtida inbetalningar g√∂rs till den f√∂rs√§kringsgivare arbetstagaren v√§ljer i flyttprocessen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 14:57:54,724 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 14:57:54,725 INFO main: Cleaned response: Enligt reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsav...
2025-05-02 14:57:54,725 INFO main: [chat endpoint] Final response: 'Enligt reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal (AKAP-KR) ska f√∂rs√§kringsgivare erbjuda och meddela traditionell tj√§nstepensionsf√∂rs√§kring och/eller tj√§nstepensionsf√∂rs√§kring i form av fondf√∂rs√§kring f√∂r placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension f√∂r arbetstagare [2]. Arbetstagaren v√§ljer sj√§lv placering av pensionsavgift f√∂r avgiftsbest√§md √•lderspension [2].\n\nOm en person som har r√§tt att flytta sitt pensionskapital beg√§r en flytt, har den avgivande f√∂rs√§kringsgivaren r√§tt att ta ut en s√§rskild avgift f√∂r detta. Avgiften f√•r dock inte √∂verstiga det belopp som anges i reglerna f√∂r kapitalflytt f√∂r avgiftsbest√§md √•lderspension enligt kommunala tj√§nstepensionsavtal [3].\n\nEn kapitalflytt inneb√§r att hela pensionskapitalet i en eller flera tj√§nstepensionsf√∂rs√§kringar flyttas fr√•n en f√∂rs√§kringsgivare till en tj√§nstepensionsf√∂rs√§kring med samma arbetstagare som f√∂rs√§krad hos samma eller annan f√∂rs√§kringsgivare [5]. En kapitalflytt g√§ller endast det pensionskapital som redan √§r inbetalt. Framtida inbetalningar g√∂rs till den f√∂rs√§kringsgivare arbetstagaren v√§ljer i flyttprocessen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>'
2025-05-02 15:01:03,471 INFO main: Received message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 15:01:03,472 INFO main: Session ID: ::1
2025-05-02 15:01:03,475 INFO main: Processing message: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 15:01:03,477 INFO src.graph.pension_graph: Processing question: Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?
2025-05-02 15:01:03,478 INFO agent_logger: [AGENT] Start process. State: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:01:03,478 INFO agent_logger: [AGENT] Received question: 'vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?'
2025-05-02 15:01:03,479 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:01:03,479 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 15:01:03,479 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 15:01:03,481 INFO src.tools.summary_checker: No matching summary found
2025-05-02 15:01:03,481 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 15:01:03,481 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 15:01:03,482 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 15:01:03,482 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 15:01:03,482 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 15:01:03,482 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630897054720; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:03,483 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630897054720; state: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:03,486 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 15:01:04,523 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 15:01:04,577 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 15:01:04,578 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 15:01:09,265 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 15:01:09,265 INFO vector_retriever_logger: Returning response: Tyv√§rr, det finns ingen information i den tillhandah√•llna kontexten om specifika √§ndringar i pensionsutbetalningar som kommer att g√§lla fr√•n och med 1 januari 2025.

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>
2025-05-02 15:01:09,266 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630897054720; result: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB9D48E20>, 'response': 'Tyv√§rr, det finns ingen information i den tillhandah√•llna kontexten om specifika √§ndringar i pensionsutbetalningar som kommer att g√§lla fr√•n och med 1 januari 2025.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:01:09,268 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 15:01:09,269 INFO main: Final state from LangGraph: {'question': 'Vilka √§ndringar i pensionsutbetalningar kommer att g√§lla fr√•n och med 1 januari 2025?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB9D48E20>, 'response': 'Tyv√§rr, det finns ingen information i den tillhandah√•llna kontexten om specifika √§ndringar i pensionsutbetalningar som kommer att g√§lla fr√•n och med 1 januari 2025.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:01:09,270 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 15:01:09,270 INFO main: Cleaned response: Tyv√§rr, det finns ingen information i den tillhandah√•llna kontexten om specifika √§ndringar i pension...
2025-05-02 15:01:09,270 INFO main: [chat endpoint] Final response: 'Tyv√§rr, det finns ingen information i den tillhandah√•llna kontexten om specifika √§ndringar i pensionsutbetalningar som kommer att g√§lla fr√•n och med 1 januari 2025.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: saknas | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 3 KAP | paragraf: saknas</li><li><strong>[4]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li></ul>'
2025-05-02 15:01:26,526 INFO main: Received message: Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?
2025-05-02 15:01:26,526 INFO main: Session ID: ::1
2025-05-02 15:01:26,529 INFO main: Processing message: Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?
2025-05-02 15:01:26,530 INFO src.graph.pension_graph: Processing question: Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?
2025-05-02 15:01:26,531 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:01:26,531 INFO agent_logger: [AGENT] Received question: 'hur skiljer sig pa16 och akap-kr √•t n√§r det g√§ller premiebest√§md pension?'
2025-05-02 15:01:26,532 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:01:26,532 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 15:01:26,533 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 15:01:26,534 INFO src.tools.summary_checker: No matching summary found
2025-05-02 15:01:26,535 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 15:01:26,535 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 15:01:26,536 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 15:01:26,536 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 15:01:26,536 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 15:01:26,537 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630910639872; state: {'question': 'Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:26,538 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630910639872; state: {'question': 'Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:26,538 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 15:01:27,302 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 15:01:27,345 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 15:01:27,345 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 15:01:32,671 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 15:01:32,671 INFO vector_retriever_logger: Returning response: Tyv√§rr, jag har inte tillr√§cklig information f√∂r att besvara din fr√•ga om skillnader mellan PA16 och AKAP-KR n√§r det g√§ller premiebest√§md pension. Kontexten som tillhandah√•llits inneh√•ller inte specifik information om dessa pensionsavtal och deras regler kring premiebest√§md pension.

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>
2025-05-02 15:01:32,673 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630910639872; result: {'question': 'Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB9D48D10>, 'response': 'Tyv√§rr, jag har inte tillr√§cklig information f√∂r att besvara din fr√•ga om skillnader mellan PA16 och AKAP-KR n√§r det g√§ller premiebest√§md pension. Kontexten som tillhandah√•llits inneh√•ller inte specifik information om dessa pensionsavtal och deras regler kring premiebest√§md pension.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:01:32,674 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 15:01:32,675 INFO main: Final state from LangGraph: {'question': 'Hur skiljer sig PA16 och AKAP-KR √•t n√§r det g√§ller premiebest√§md pension?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BB9D48D10>, 'response': 'Tyv√§rr, jag har inte tillr√§cklig information f√∂r att besvara din fr√•ga om skillnader mellan PA16 och AKAP-KR n√§r det g√§ller premiebest√§md pension. Kontexten som tillhandah√•llits inneh√•ller inte specifik information om dessa pensionsavtal och deras regler kring premiebest√§md pension.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:01:32,676 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 15:01:32,676 INFO main: Cleaned response: Tyv√§rr, jag har inte tillr√§cklig information f√∂r att besvara din fr√•ga om skillnader mellan PA16 och...
2025-05-02 15:01:32,677 INFO main: [chat endpoint] Final response: 'Tyv√§rr, jag har inte tillr√§cklig information f√∂r att besvara din fr√•ga om skillnader mellan PA16 och AKAP-KR n√§r det g√§ller premiebest√§md pension. Kontexten som tillhandah√•llits inneh√•ller inte specifik information om dessa pensionsavtal och deras regler kring premiebest√§md pension.\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 12 KAP | paragraf: saknas</li><li><strong>[2]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[3]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 1 KAP | paragraf: saknas</li><li><strong>[5]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li></ul>'
2025-05-02 15:01:59,034 INFO main: Received message: n√§r kan utbetalning av √•lderspension valbar g√∂ras?
2025-05-02 15:01:59,034 INFO main: Session ID: ::1
2025-05-02 15:01:59,038 INFO main: Processing message: n√§r kan utbetalning av √•lderspension valbar g√∂ras?
2025-05-02 15:01:59,040 INFO src.graph.pension_graph: Processing question: n√§r kan utbetalning av √•lderspension valbar g√∂ras?
2025-05-02 15:01:59,040 INFO agent_logger: [AGENT] Start process. State: {'question': 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:01:59,041 INFO agent_logger: [AGENT] Received question: 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?'
2025-05-02 15:01:59,041 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:01:59,042 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 15:01:59,042 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 15:01:59,043 INFO src.tools.summary_checker: No matching summary found
2025-05-02 15:01:59,044 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: False
2025-05-02 15:01:59,044 INFO agent_logger: [AGENT] Trying tool: VectorRetrieverTool
2025-05-02 15:01:59,045 INFO agent_logger: [AGENT] Tool VectorRetrieverTool.can_handle returned: True
2025-05-02 15:01:59,046 INFO agent_logger: [AGENT] Selected tool: VectorRetrieverTool
2025-05-02 15:01:59,047 INFO agent_logger: [AGENT] Running tool VectorRetrieverTool with standard execution (no parameter extraction)
2025-05-02 15:01:59,047 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630897537408; state: {'question': 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:59,048 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630897537408; state: {'question': 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool'}
2025-05-02 15:01:59,049 INFO vector_retriever_logger: Running vector retriever tool
2025-05-02 15:01:59,787 INFO src.retriever.retriever_tool: ‚úÖ Vectorstore loaded successfully
2025-05-02 15:01:59,828 INFO src.retriever.retriever_tool: üìö BM25 initialized with 555 documents
2025-05-02 15:01:59,829 INFO src.retriever.retriever_tool: ‚úÖ BM25 retriever initialized successfully
2025-05-02 15:02:20,062 INFO vector_retriever_logger: Generated response using LLM with source references
2025-05-02 15:02:20,062 INFO vector_retriever_logger: Returning response: Utbetalning av √•lderspension valbar kan tidigast g√∂ras fr√•n 61 √•rs √•lder [2]. Om utbetalning av √•lderspension inte har p√•b√∂rjats eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad som arbetstagaren fyller 69 √•r ska f√∂rs√§kringsgivaren informera arbetstagaren om dennes premiebest√§mda √•lderspension [3]. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad d√• arbetstagaren fyller 72 √•r ska utbetalning av livsvarig √•lderspension p√•b√∂rjas vid denna tidpunkt [3]. 

Utbetalningen av √•lderspension g√∂rs m√•nadsvis och livsvarigt, l√§ngst till och med den m√•nad d√• arbetstagaren avlider. Om s√§rskild √∂verenskommelse tr√§ffas mellan arbetstagaren och f√∂rs√§kringsgivaren i samband med ans√∂kan om utbetalning av pension, kan utbetalning i st√§llet ske tempor√§rt (under en viss best√§md tid), f√∂rutsatt att den t√§nkta utbetalningstiden inte understiger tio √•r f√∂r √•lderspension valbar [4]. 

Premiebest√§md √•lderspension utbetalas senast fr√•n och med utg√•ngen av den tredje m√•naden efter det att f√∂rs√§kringsgivaren tagit emot ans√∂kan, om inte den f√∂rs√§krade arbetstagaren i sin ans√∂kan har angivit en senare tidpunkt f√∂r uttag av √•lderspensionen [5].

<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP, 7 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>
2025-05-02 15:02:20,066 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630897537408; result: {'question': 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFFED7B50>, 'response': 'Utbetalning av √•lderspension valbar kan tidigast g√∂ras fr√•n 61 √•rs √•lder [2]. Om utbetalning av √•lderspension inte har p√•b√∂rjats eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad som arbetstagaren fyller 69 √•r ska f√∂rs√§kringsgivaren informera arbetstagaren om dennes premiebest√§mda √•lderspension [3]. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad d√• arbetstagaren fyller 72 √•r ska utbetalning av livsvarig √•lderspension p√•b√∂rjas vid denna tidpunkt [3]. \n\nUtbetalningen av √•lderspension g√∂rs m√•nadsvis och livsvarigt, l√§ngst till och med den m√•nad d√• arbetstagaren avlider. Om s√§rskild √∂verenskommelse tr√§ffas mellan arbetstagaren och f√∂rs√§kringsgivaren i samband med ans√∂kan om utbetalning av pension, kan utbetalning i st√§llet ske tempor√§rt (under en viss best√§md tid), f√∂rutsatt att den t√§nkta utbetalningstiden inte understiger tio √•r f√∂r √•lderspension valbar [4]. \n\nPremiebest√§md √•lderspension utbetalas senast fr√•n och med utg√•ngen av den tredje m√•naden efter det att f√∂rs√§kringsgivaren tagit emot ans√∂kan, om inte den f√∂rs√§krade arbetstagaren i sin ans√∂kan har angivit en senare tidpunkt f√∂r uttag av √•lderspensionen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP, 7 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:02:20,069 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 15:02:20,070 INFO main: Final state from LangGraph: {'question': 'n√§r kan utbetalning av √•lderspension valbar g√∂ras?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'VectorRetrieverTool', 'retriever': <src.retriever.retriever_tool.RetrieverTool object at 0x0000017BFFED7B50>, 'response': 'Utbetalning av √•lderspension valbar kan tidigast g√∂ras fr√•n 61 √•rs √•lder [2]. Om utbetalning av √•lderspension inte har p√•b√∂rjats eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad som arbetstagaren fyller 69 √•r ska f√∂rs√§kringsgivaren informera arbetstagaren om dennes premiebest√§mda √•lderspension [3]. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad d√• arbetstagaren fyller 72 √•r ska utbetalning av livsvarig √•lderspension p√•b√∂rjas vid denna tidpunkt [3]. \n\nUtbetalningen av √•lderspension g√∂rs m√•nadsvis och livsvarigt, l√§ngst till och med den m√•nad d√• arbetstagaren avlider. Om s√§rskild √∂verenskommelse tr√§ffas mellan arbetstagaren och f√∂rs√§kringsgivaren i samband med ans√∂kan om utbetalning av pension, kan utbetalning i st√§llet ske tempor√§rt (under en viss best√§md tid), f√∂rutsatt att den t√§nkta utbetalningstiden inte understiger tio √•r f√∂r √•lderspension valbar [4]. \n\nPremiebest√§md √•lderspension utbetalas senast fr√•n och med utg√•ngen av den tredje m√•naden efter det att f√∂rs√§kringsgivaren tagit emot ans√∂kan, om inte den f√∂rs√§krade arbetstagaren i sin ans√∂kan har angivit en senare tidpunkt f√∂r uttag av √•lderspensionen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP, 7 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>', 'response_source': 'vector_db'}
2025-05-02 15:02:20,073 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'retriever', 'response', 'response_source']
2025-05-02 15:02:20,073 INFO main: Cleaned response: Utbetalning av √•lderspension valbar kan tidigast g√∂ras fr√•n 61 √•rs √•lder [2]. Om utbetalning av √•lde...
2025-05-02 15:02:20,073 INFO main: [chat endpoint] Final response: 'Utbetalning av √•lderspension valbar kan tidigast g√∂ras fr√•n 61 √•rs √•lder [2]. Om utbetalning av √•lderspension inte har p√•b√∂rjats eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad som arbetstagaren fyller 69 √•r ska f√∂rs√§kringsgivaren informera arbetstagaren om dennes premiebest√§mda √•lderspension [3]. Om √•lderspension inte har b√∂rjat utbetalas eller ans√∂kan om s√•dan utbetalning inte har gjorts den m√•nad d√• arbetstagaren fyller 72 √•r ska utbetalning av livsvarig √•lderspension p√•b√∂rjas vid denna tidpunkt [3]. \n\nUtbetalningen av √•lderspension g√∂rs m√•nadsvis och livsvarigt, l√§ngst till och med den m√•nad d√• arbetstagaren avlider. Om s√§rskild √∂verenskommelse tr√§ffas mellan arbetstagaren och f√∂rs√§kringsgivaren i samband med ans√∂kan om utbetalning av pension, kan utbetalning i st√§llet ske tempor√§rt (under en viss best√§md tid), f√∂rutsatt att den t√§nkta utbetalningstiden inte understiger tio √•r f√∂r √•lderspension valbar [4]. \n\nPremiebest√§md √•lderspension utbetalas senast fr√•n och med utg√•ngen av den tredje m√•naden efter det att f√∂rs√§kringsgivaren tagit emot ans√∂kan, om inte den f√∂rs√§krade arbetstagaren i sin ans√∂kan har angivit en senare tidpunkt f√∂r uttag av √•lderspensionen [5].\n\n<p><strong>K√§llor:</strong></p><ul><li><strong>[1]</strong> SKR2023 | kapitel: 58 KAP | paragraf: saknas</li><li><strong>[2]</strong> PA16 | kapitel: 4 KAP, 7 KAP | paragraf: saknas</li><li><strong>[3]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li><li><strong>[4]</strong> PA16 | kapitel: 4 KAP | paragraf: saknas</li><li><strong>[5]</strong> PA16 | kapitel: 2 KAP | paragraf: saknas</li></ul>'
2025-05-02 15:02:52,025 INFO main: Received message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 15:02:52,026 INFO main: Session ID: ::1
2025-05-02 15:02:52,028 INFO main: Processing message: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 15:02:52,030 INFO src.graph.pension_graph: Processing question: Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?
2025-05-02 15:02:52,031 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:02:52,032 INFO agent_logger: [AGENT] Received question: 'hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?'
2025-05-02 15:02:52,032 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:02:52,033 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 15:02:52,033 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 15:02:52,035 INFO agent_logger: [AGENT] After parameter extraction. Extracted: {'age': 45, 'monthly_salary': 35000}, State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:02:52,036 INFO agent_logger: [AGENT] After merging/defaulting. Merged: {'age': 45, 'monthly_salary': 35000}, State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:02:52,036 INFO agent_logger: [AGENT] Before calling tool: CalculatorTool. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:02:52,038 INFO calculator_logger: üßπ Loggen har rensats f√∂r en ny ber√§kning.
2025-05-02 15:02:52,039 INFO calculator_logger: Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65, √•r till pension=20, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0
2025-05-02 15:02:52,039 INFO calculator_logger: Avs√§ttning: 4.5% av 35000 = 1575.0, 30.0% av 0 = 0.0
2025-05-02 15:02:52,040 INFO calculator_logger: L√∂nev√§xlingspremie: 0 * 0.0% = 0
2025-05-02 15:02:52,040 INFO calculator_logger: √Örlig avs√§ttning = 18900.0, m√•natlig = 1575.00
2025-05-02 15:02:52,040 INFO calculator_logger: √Ör 1: ins√§ttning + tillv√§xt = 27025.35
2025-05-02 15:02:52,041 INFO calculator_logger: √Ör 2: ins√§ttning + tillv√§xt = 26521.44
2025-05-02 15:02:52,041 INFO calculator_logger: √Ör 3: ins√§ttning + tillv√§xt = 26026.93
2025-05-02 15:02:52,041 INFO calculator_logger: √Ör 4: ins√§ttning + tillv√§xt = 25541.64
2025-05-02 15:02:52,041 INFO calculator_logger: √Ör 5: ins√§ttning + tillv√§xt = 25065.40
2025-05-02 15:02:52,042 INFO calculator_logger: √Ör 6: ins√§ttning + tillv√§xt = 24598.03
2025-05-02 15:02:52,042 INFO calculator_logger: √Ör 7: ins√§ttning + tillv√§xt = 24139.38
2025-05-02 15:02:52,042 INFO calculator_logger: √Ör 8: ins√§ttning + tillv√§xt = 23689.29
2025-05-02 15:02:52,042 INFO calculator_logger: √Ör 9: ins√§ttning + tillv√§xt = 23247.58
2025-05-02 15:02:52,043 INFO calculator_logger: √Ör 10: ins√§ttning + tillv√§xt = 22814.12
2025-05-02 15:02:52,043 INFO calculator_logger: √Ör 11: ins√§ttning + tillv√§xt = 22388.73
2025-05-02 15:02:52,043 INFO calculator_logger: √Ör 12: ins√§ttning + tillv√§xt = 21971.28
2025-05-02 15:02:52,043 INFO calculator_logger: √Ör 13: ins√§ttning + tillv√§xt = 21561.61
2025-05-02 15:02:52,043 INFO calculator_logger: √Ör 14: ins√§ttning + tillv√§xt = 21159.57
2025-05-02 15:02:52,044 INFO calculator_logger: √Ör 15: ins√§ttning + tillv√§xt = 20765.04
2025-05-02 15:02:52,044 INFO calculator_logger: √Ör 16: ins√§ttning + tillv√§xt = 20377.86
2025-05-02 15:02:52,044 INFO calculator_logger: √Ör 17: ins√§ttning + tillv√§xt = 19997.90
2025-05-02 15:02:52,044 INFO calculator_logger: √Ör 18: ins√§ttning + tillv√§xt = 19625.02
2025-05-02 15:02:52,044 INFO calculator_logger: √Ör 19: ins√§ttning + tillv√§xt = 19259.10
2025-05-02 15:02:52,045 INFO calculator_logger: √Ör 20: ins√§ttning + tillv√§xt = 18900.00
2025-05-02 15:02:52,045 INFO calculator_logger: Totalt kapital med tillv√§xt = 454675.26, m√•natlig pension = 1894.48
2025-05-02 15:02:52,045 INFO agent_logger: [AGENT] After tool run. State: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.', 'last_calculation': {'input': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 1894, 'total_pension': 454675, 'monthly_contribution': 1575, 'years_to_pension': 20}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:02:52,048 INFO main: Final state from LangGraph: {'question': 'Hur mycket pension f√•r jag om min l√∂n √§r 35000 kr och jag √§r 45 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.', 'last_calculation': {'input': {'age': 45, 'monthly_salary': 35000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 1894, 'total_pension': 454675, 'monthly_contribution': 1575, 'years_to_pension': 20}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:02:52,049 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'user_profile', 'response', 'last_calculation']
2025-05-02 15:02:52,049 INFO main: Cleaned response: Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs ...
2025-05-02 15:02:52,049 INFO main: [chat endpoint] Final response: 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 1894 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 454675 kr, baserat p√• en avs√§ttning p√• 1575 kr/m√•n under 20 √•r.'
2025-05-02 15:03:15,645 INFO main: Received message: hur r√§knade du?
2025-05-02 15:03:15,646 INFO main: Session ID: ::1
2025-05-02 15:03:15,651 INFO main: Processing message: hur r√§knade du?
2025-05-02 15:03:15,652 INFO src.graph.pension_graph: Processing question: hur r√§knade du?
2025-05-02 15:03:15,653 INFO agent_logger: [AGENT] Start process. State: {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:03:15,653 INFO agent_logger: [AGENT] Received question: 'hur r√§knade du?'
2025-05-02 15:03:15,664 INFO agent_logger: [AGENT] Final state to return (calculation log fallback): {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'response': 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65, √•r till pension=20, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 35000 = 1575.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 18900.0, m√•natlig = 1575.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 27025.35\nüìà √Ör 2: ins√§ttning + tillv√§xt = 26521.44\nüìà √Ör 3: ins√§ttning + tillv√§xt = 26026.93\nüìà √Ör 4: ins√§ttning + tillv√§xt = 25541.64\nüìà √Ör 5: ins√§ttning + tillv√§xt = 25065.40\nüìà √Ör 6: ins√§ttning + tillv√§xt = 24598.03\nüìà √Ör 7: ins√§ttning + tillv√§xt = 24139.38\nüìà √Ör 8: ins√§ttning + tillv√§xt = 23689.29\nüìà √Ör 9: ins√§ttning + tillv√§xt = 23247.58\nüìà √Ör 10: ins√§ttning + tillv√§xt = 22814.12\nüìà √Ör 11: ins√§ttning + tillv√§xt = 22388.73\nüìà √Ör 12: ins√§ttning + tillv√§xt = 21971.28\nüìà √Ör 13: ins√§ttning + tillv√§xt = 21561.61\nüìà √Ör 14: ins√§ttning + tillv√§xt = 21159.57\nüìà √Ör 15: ins√§ttning + tillv√§xt = 20765.04\nüìà √Ör 16: ins√§ttning + tillv√§xt = 20377.86\nüìà √Ör 17: ins√§ttning + tillv√§xt = 19997.90\nüìà √Ör 18: ins√§ttning + tillv√§xt = 19625.02\nüìà √Ör 19: ins√§ttning + tillv√§xt = 19259.10\nüìà √Ör 20: ins√§ttning + tillv√§xt = 18900.00\nüì¶ Totalt kapital med tillv√§xt = 454675.26, m√•natlig pension = 1894.48'}
2025-05-02 15:03:15,667 INFO main: Final state from LangGraph: {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'response': 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65, √•r till pension=20, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 35000 = 1575.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 18900.0, m√•natlig = 1575.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 27025.35\nüìà √Ör 2: ins√§ttning + tillv√§xt = 26521.44\nüìà √Ör 3: ins√§ttning + tillv√§xt = 26026.93\nüìà √Ör 4: ins√§ttning + tillv√§xt = 25541.64\nüìà √Ör 5: ins√§ttning + tillv√§xt = 25065.40\nüìà √Ör 6: ins√§ttning + tillv√§xt = 24598.03\nüìà √Ör 7: ins√§ttning + tillv√§xt = 24139.38\nüìà √Ör 8: ins√§ttning + tillv√§xt = 23689.29\nüìà √Ör 9: ins√§ttning + tillv√§xt = 23247.58\nüìà √Ör 10: ins√§ttning + tillv√§xt = 22814.12\nüìà √Ör 11: ins√§ttning + tillv√§xt = 22388.73\nüìà √Ör 12: ins√§ttning + tillv√§xt = 21971.28\nüìà √Ör 13: ins√§ttning + tillv√§xt = 21561.61\nüìà √Ör 14: ins√§ttning + tillv√§xt = 21159.57\nüìà √Ör 15: ins√§ttning + tillv√§xt = 20765.04\nüìà √Ör 16: ins√§ttning + tillv√§xt = 20377.86\nüìà √Ör 17: ins√§ttning + tillv√§xt = 19997.90\nüìà √Ör 18: ins√§ttning + tillv√§xt = 19625.02\nüìà √Ör 19: ins√§ttning + tillv√§xt = 19259.10\nüìà √Ör 20: ins√§ttning + tillv√§xt = 18900.00\nüì¶ Totalt kapital med tillv√§xt = 454675.26, m√•natlig pension = 1894.48'}
2025-05-02 15:03:15,668 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'response']
2025-05-02 15:03:15,668 INFO main: Cleaned response: H√§r √§r stegen fr√•n senaste ber√§kningen:

üßÆ Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65,...
2025-05-02 15:03:15,669 INFO main: [chat endpoint] Final response: 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=45, l√∂n=35000, pensions√•lder=65, √•r till pension=20, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 35000 = 1575.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 18900.0, m√•natlig = 1575.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 27025.35\nüìà √Ör 2: ins√§ttning + tillv√§xt = 26521.44\nüìà √Ör 3: ins√§ttning + tillv√§xt = 26026.93\nüìà √Ör 4: ins√§ttning + tillv√§xt = 25541.64\nüìà √Ör 5: ins√§ttning + tillv√§xt = 25065.40\nüìà √Ör 6: ins√§ttning + tillv√§xt = 24598.03\nüìà √Ör 7: ins√§ttning + tillv√§xt = 24139.38\nüìà √Ör 8: ins√§ttning + tillv√§xt = 23689.29\nüìà √Ör 9: ins√§ttning + tillv√§xt = 23247.58\nüìà √Ör 10: ins√§ttning + tillv√§xt = 22814.12\nüìà √Ör 11: ins√§ttning + tillv√§xt = 22388.73\nüìà √Ör 12: ins√§ttning + tillv√§xt = 21971.28\nüìà √Ör 13: ins√§ttning + tillv√§xt = 21561.61\nüìà √Ör 14: ins√§ttning + tillv√§xt = 21159.57\nüìà √Ör 15: ins√§ttning + tillv√§xt = 20765.04\nüìà √Ör 16: ins√§ttning + tillv√§xt = 20377.86\nüìà √Ör 17: ins√§ttning + tillv√§xt = 19997.90\nüìà √Ör 18: ins√§ttning + tillv√§xt = 19625.02\nüìà √Ör 19: ins√§ttning + tillv√§xt = 19259.10\nüìà √Ör 20: ins√§ttning + tillv√§xt = 18900.00\nüì¶ Totalt kapital med tillv√§xt = 454675.26, m√•natlig pension = 1894.48'
2025-05-02 15:03:37,751 INFO main: Received message: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:03:37,752 INFO main: Session ID: ::1
2025-05-02 15:03:37,755 INFO main: Processing message: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:03:37,757 INFO src.graph.pension_graph: Processing question: Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:03:37,757 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:03:37,758 INFO agent_logger: [AGENT] Received question: 'hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?'
2025-05-02 15:03:37,758 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:03:37,759 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 15:03:37,759 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 15:03:37,759 INFO agent_logger: [AGENT] After parameter extraction. Extracted: {'age': 40, 'monthly_salary': 50000}, State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:03:37,760 INFO agent_logger: [AGENT] After merging/defaulting. Merged: {'age': 40, 'monthly_salary': 50000}, State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:03:37,761 INFO agent_logger: [AGENT] Before calling tool: CalculatorTool. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:03:37,762 INFO calculator_logger: üßπ Loggen har rensats f√∂r en ny ber√§kning.
2025-05-02 15:03:37,763 INFO calculator_logger: Ber√§kning startad: √•lder=40, l√∂n=50000, pensions√•lder=65, √•r till pension=25, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0
2025-05-02 15:03:37,764 INFO calculator_logger: Avs√§ttning: 4.5% av 50000 = 2250.0, 30.0% av 0 = 0.0
2025-05-02 15:03:37,765 INFO calculator_logger: L√∂nev√§xlingspremie: 0 * 0.0% = 0
2025-05-02 15:03:37,765 INFO calculator_logger: √Örlig avs√§ttning = 27000.0, m√•natlig = 2250.00
2025-05-02 15:03:37,766 INFO calculator_logger: √Ör 1: ins√§ttning + tillv√§xt = 42417.41
2025-05-02 15:03:37,766 INFO calculator_logger: √Ör 2: ins√§ttning + tillv√§xt = 41626.51
2025-05-02 15:03:37,767 INFO calculator_logger: √Ör 3: ins√§ttning + tillv√§xt = 40850.35
2025-05-02 15:03:37,767 INFO calculator_logger: √Ör 4: ins√§ttning + tillv√§xt = 40088.67
2025-05-02 15:03:37,768 INFO calculator_logger: √Ör 5: ins√§ttning + tillv√§xt = 39341.19
2025-05-02 15:03:37,768 INFO calculator_logger: √Ör 6: ins√§ttning + tillv√§xt = 38607.64
2025-05-02 15:03:37,768 INFO calculator_logger: √Ör 7: ins√§ttning + tillv√§xt = 37887.77
2025-05-02 15:03:37,769 INFO calculator_logger: √Ör 8: ins√§ttning + tillv√§xt = 37181.33
2025-05-02 15:03:37,769 INFO calculator_logger: √Ör 9: ins√§ttning + tillv√§xt = 36488.05
2025-05-02 15:03:37,769 INFO calculator_logger: √Ör 10: ins√§ttning + tillv√§xt = 35807.71
2025-05-02 15:03:37,770 INFO calculator_logger: √Ör 11: ins√§ttning + tillv√§xt = 35140.05
2025-05-02 15:03:37,770 INFO calculator_logger: √Ör 12: ins√§ttning + tillv√§xt = 34484.84
2025-05-02 15:03:37,770 INFO calculator_logger: √Ör 13: ins√§ttning + tillv√§xt = 33841.84
2025-05-02 15:03:37,771 INFO calculator_logger: √Ör 14: ins√§ttning + tillv√§xt = 33210.83
2025-05-02 15:03:37,771 INFO calculator_logger: √Ör 15: ins√§ttning + tillv√§xt = 32591.59
2025-05-02 15:03:37,771 INFO calculator_logger: √Ör 16: ins√§ttning + tillv√§xt = 31983.90
2025-05-02 15:03:37,772 INFO calculator_logger: √Ör 17: ins√§ttning + tillv√§xt = 31387.54
2025-05-02 15:03:37,772 INFO calculator_logger: √Ör 18: ins√§ttning + tillv√§xt = 30802.29
2025-05-02 15:03:37,772 INFO calculator_logger: √Ör 19: ins√§ttning + tillv√§xt = 30227.96
2025-05-02 15:03:37,773 INFO calculator_logger: √Ör 20: ins√§ttning + tillv√§xt = 29664.34
2025-05-02 15:03:37,773 INFO calculator_logger: √Ör 21: ins√§ttning + tillv√§xt = 29111.23
2025-05-02 15:03:37,773 INFO calculator_logger: √Ör 22: ins√§ttning + tillv√§xt = 28568.43
2025-05-02 15:03:37,773 INFO calculator_logger: √Ör 23: ins√§ttning + tillv√§xt = 28035.75
2025-05-02 15:03:37,774 INFO calculator_logger: √Ör 24: ins√§ttning + tillv√§xt = 27513.00
2025-05-02 15:03:37,774 INFO calculator_logger: √Ör 25: ins√§ttning + tillv√§xt = 27000.00
2025-05-02 15:03:37,774 INFO calculator_logger: Totalt kapital med tillv√§xt = 853860.22, m√•natlig pension = 3557.75
2025-05-02 15:03:37,775 INFO agent_logger: [AGENT] After tool run. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 40, 'monthly_salary': 50000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 3557 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 853860 kr, baserat p√• en avs√§ttning p√• 2250 kr/m√•n under 25 √•r.', 'last_calculation': {'input': {'age': 40, 'monthly_salary': 50000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 3557, 'total_pension': 853860, 'monthly_contribution': 2250, 'years_to_pension': 25}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:03:37,776 INFO main: Final state from LangGraph: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 50000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 40, 'monthly_salary': 50000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 3557 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 853860 kr, baserat p√• en avs√§ttning p√• 2250 kr/m√•n under 25 √•r.', 'last_calculation': {'input': {'age': 40, 'monthly_salary': 50000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 3557, 'total_pension': 853860, 'monthly_contribution': 2250, 'years_to_pension': 25}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:03:37,778 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'user_profile', 'response', 'last_calculation']
2025-05-02 15:03:37,779 INFO main: Cleaned response: Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 3557 kr/m√•n fr√•n 65 √•rs ...
2025-05-02 15:03:37,779 INFO main: [chat endpoint] Final response: 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 3557 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 853860 kr, baserat p√• en avs√§ttning p√• 2250 kr/m√•n under 25 √•r.'
2025-05-02 15:04:19,012 INFO main: Received message: Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:04:19,012 INFO main: Session ID: ::1
2025-05-02 15:04:19,015 INFO main: Processing message: Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:04:19,017 INFO src.graph.pension_graph: Processing question: Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?
2025-05-02 15:04:19,017 INFO agent_logger: [AGENT] Start process. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:04:19,017 INFO agent_logger: [AGENT] Received question: 'hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?'
2025-05-02 15:04:19,018 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:04:19,018 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: True
2025-05-02 15:04:19,018 INFO agent_logger: [AGENT] Selected tool: CalculatorTool
2025-05-02 15:04:19,019 INFO agent_logger: [AGENT] After parameter extraction. Extracted: {'age': 40, 'monthly_salary': 65000}, State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:04:19,019 INFO agent_logger: [AGENT] After merging/defaulting. Merged: {'age': 40, 'monthly_salary': 65000}, State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:04:19,020 INFO agent_logger: [AGENT] Before calling tool: CalculatorTool. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool'}
2025-05-02 15:04:19,021 INFO calculator_logger: üßπ Loggen har rensats f√∂r en ny ber√§kning.
2025-05-02 15:04:19,022 INFO calculator_logger: Ber√§kning startad: √•lder=40, l√∂n=65000, pensions√•lder=65, √•r till pension=25, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0
2025-05-02 15:04:19,023 INFO calculator_logger: Avs√§ttning: 4.5% av 65000 = 2925.0, 30.0% av 0 = 0.0
2025-05-02 15:04:19,023 INFO calculator_logger: L√∂nev√§xlingspremie: 0 * 0.0% = 0
2025-05-02 15:04:19,024 INFO calculator_logger: √Örlig avs√§ttning = 35100.0, m√•natlig = 2925.00
2025-05-02 15:04:19,024 INFO calculator_logger: √Ör 1: ins√§ttning + tillv√§xt = 55142.64
2025-05-02 15:04:19,024 INFO calculator_logger: √Ör 2: ins√§ttning + tillv√§xt = 54114.46
2025-05-02 15:04:19,024 INFO calculator_logger: √Ör 3: ins√§ttning + tillv√§xt = 53105.46
2025-05-02 15:04:19,025 INFO calculator_logger: √Ör 4: ins√§ttning + tillv√§xt = 52115.27
2025-05-02 15:04:19,025 INFO calculator_logger: √Ör 5: ins√§ttning + tillv√§xt = 51143.54
2025-05-02 15:04:19,025 INFO calculator_logger: √Ör 6: ins√§ttning + tillv√§xt = 50189.93
2025-05-02 15:04:19,026 INFO calculator_logger: √Ör 7: ins√§ttning + tillv√§xt = 49254.10
2025-05-02 15:04:19,026 INFO calculator_logger: √Ör 8: ins√§ttning + tillv√§xt = 48335.73
2025-05-02 15:04:19,026 INFO calculator_logger: √Ör 9: ins√§ttning + tillv√§xt = 47434.47
2025-05-02 15:04:19,026 INFO calculator_logger: √Ör 10: ins√§ttning + tillv√§xt = 46550.02
2025-05-02 15:04:19,026 INFO calculator_logger: √Ör 11: ins√§ttning + tillv√§xt = 45682.06
2025-05-02 15:04:19,027 INFO calculator_logger: √Ör 12: ins√§ttning + tillv√§xt = 44830.29
2025-05-02 15:04:19,027 INFO calculator_logger: √Ör 13: ins√§ttning + tillv√§xt = 43994.39
2025-05-02 15:04:19,028 INFO calculator_logger: √Ör 14: ins√§ttning + tillv√§xt = 43174.08
2025-05-02 15:04:19,028 INFO calculator_logger: √Ör 15: ins√§ttning + tillv√§xt = 42369.07
2025-05-02 15:04:19,029 INFO calculator_logger: √Ör 16: ins√§ttning + tillv√§xt = 41579.07
2025-05-02 15:04:19,029 INFO calculator_logger: √Ör 17: ins√§ttning + tillv√§xt = 40803.80
2025-05-02 15:04:19,030 INFO calculator_logger: √Ör 18: ins√§ttning + tillv√§xt = 40042.98
2025-05-02 15:04:19,030 INFO calculator_logger: √Ör 19: ins√§ttning + tillv√§xt = 39296.35
2025-05-02 15:04:19,030 INFO calculator_logger: √Ör 20: ins√§ttning + tillv√§xt = 38563.64
2025-05-02 15:04:19,031 INFO calculator_logger: √Ör 21: ins√§ttning + tillv√§xt = 37844.59
2025-05-02 15:04:19,031 INFO calculator_logger: √Ör 22: ins√§ttning + tillv√§xt = 37138.95
2025-05-02 15:04:19,031 INFO calculator_logger: √Ör 23: ins√§ttning + tillv√§xt = 36446.47
2025-05-02 15:04:19,032 INFO calculator_logger: √Ör 24: ins√§ttning + tillv√§xt = 35766.90
2025-05-02 15:04:19,032 INFO calculator_logger: √Ör 25: ins√§ttning + tillv√§xt = 35100.00
2025-05-02 15:04:19,032 INFO calculator_logger: Totalt kapital med tillv√§xt = 1110018.28, m√•natlig pension = 4625.08
2025-05-02 15:04:19,033 INFO agent_logger: [AGENT] After tool run. State: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 40, 'monthly_salary': 65000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 4625 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 1110018 kr, baserat p√• en avs√§ttning p√• 2925 kr/m√•n under 25 √•r.', 'last_calculation': {'input': {'age': 40, 'monthly_salary': 65000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 4625, 'total_pension': 1110018, 'monthly_contribution': 2925, 'years_to_pension': 25}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:04:19,035 INFO main: Final state from LangGraph: {'question': 'Hur mycket f√•r jag i pension om jag tj√§nar 65000kr /m√•n jag √§r 40 √•r?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'CalculatorTool', 'user_profile': {'age': 40, 'monthly_salary': 65000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'response': 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 4625 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 1110018 kr, baserat p√• en avs√§ttning p√• 2925 kr/m√•n under 25 √•r.', 'last_calculation': {'input': {'age': 40, 'monthly_salary': 65000, 'agreement': 'PA16', 'scenario': 'Avd1', 'retirement_age': 65, 'growth': 0.019}, 'result': {'monthly_pension': 4625, 'total_pension': 1110018, 'monthly_contribution': 2925, 'years_to_pension': 25}, 'agreement': 'PA16', 'scenario': 'Avd1'}}
2025-05-02 15:04:19,036 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'user_profile', 'response', 'last_calculation']
2025-05-02 15:04:19,036 INFO main: Cleaned response: Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 4625 kr/m√•n fr√•n 65 √•rs ...
2025-05-02 15:04:19,037 INFO main: [chat endpoint] Final response: 'Baserat p√• dina uppgifter uppskattas din pension enligt PA16 (Avd1) till ca 4625 kr/m√•n fr√•n 65 √•rs √•lder. Det motsvarar ett totalt kapital p√• ca 1110018 kr, baserat p√• en avs√§ttning p√• 2925 kr/m√•n under 25 √•r.'
2025-05-02 15:04:43,387 INFO main: Received message: hur r√§knade du?
2025-05-02 15:04:43,388 INFO main: Session ID: ::1
2025-05-02 15:04:43,391 INFO main: Processing message: hur r√§knade du?
2025-05-02 15:04:43,392 INFO src.graph.pension_graph: Processing question: hur r√§knade du?
2025-05-02 15:04:43,392 INFO agent_logger: [AGENT] Start process. State: {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:04:43,393 INFO agent_logger: [AGENT] Received question: 'hur r√§knade du?'
2025-05-02 15:04:43,394 INFO agent_logger: [AGENT] Final state to return (calculation log fallback): {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'response': 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=40, l√∂n=65000, pensions√•lder=65, √•r till pension=25, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 65000 = 2925.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 35100.0, m√•natlig = 2925.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 55142.64\nüìà √Ör 2: ins√§ttning + tillv√§xt = 54114.46\nüìà √Ör 3: ins√§ttning + tillv√§xt = 53105.46\nüìà √Ör 4: ins√§ttning + tillv√§xt = 52115.27\nüìà √Ör 5: ins√§ttning + tillv√§xt = 51143.54\nüìà √Ör 6: ins√§ttning + tillv√§xt = 50189.93\nüìà √Ör 7: ins√§ttning + tillv√§xt = 49254.10\nüìà √Ör 8: ins√§ttning + tillv√§xt = 48335.73\nüìà √Ör 9: ins√§ttning + tillv√§xt = 47434.47\nüìà √Ör 10: ins√§ttning + tillv√§xt = 46550.02\nüìà √Ör 11: ins√§ttning + tillv√§xt = 45682.06\nüìà √Ör 12: ins√§ttning + tillv√§xt = 44830.29\nüìà √Ör 13: ins√§ttning + tillv√§xt = 43994.39\nüìà √Ör 14: ins√§ttning + tillv√§xt = 43174.08\nüìà √Ör 15: ins√§ttning + tillv√§xt = 42369.07\nüìà √Ör 16: ins√§ttning + tillv√§xt = 41579.07\nüìà √Ör 17: ins√§ttning + tillv√§xt = 40803.80\nüìà √Ör 18: ins√§ttning + tillv√§xt = 40042.98\nüìà √Ör 19: ins√§ttning + tillv√§xt = 39296.35\nüìà √Ör 20: ins√§ttning + tillv√§xt = 38563.64\nüìà √Ör 21: ins√§ttning + tillv√§xt = 37844.59\nüìà √Ör 22: ins√§ttning + tillv√§xt = 37138.95\nüìà √Ör 23: ins√§ttning + tillv√§xt = 36446.47\nüìà √Ör 24: ins√§ttning + tillv√§xt = 35766.90\nüìà √Ör 25: ins√§ttning + tillv√§xt = 35100.00\nüì¶ Totalt kapital med tillv√§xt = 1110018.28, m√•natlig pension = 4625.08'}
2025-05-02 15:04:43,399 INFO main: Final state from LangGraph: {'question': 'hur r√§knade du?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'response': 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=40, l√∂n=65000, pensions√•lder=65, √•r till pension=25, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 65000 = 2925.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 35100.0, m√•natlig = 2925.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 55142.64\nüìà √Ör 2: ins√§ttning + tillv√§xt = 54114.46\nüìà √Ör 3: ins√§ttning + tillv√§xt = 53105.46\nüìà √Ör 4: ins√§ttning + tillv√§xt = 52115.27\nüìà √Ör 5: ins√§ttning + tillv√§xt = 51143.54\nüìà √Ör 6: ins√§ttning + tillv√§xt = 50189.93\nüìà √Ör 7: ins√§ttning + tillv√§xt = 49254.10\nüìà √Ör 8: ins√§ttning + tillv√§xt = 48335.73\nüìà √Ör 9: ins√§ttning + tillv√§xt = 47434.47\nüìà √Ör 10: ins√§ttning + tillv√§xt = 46550.02\nüìà √Ör 11: ins√§ttning + tillv√§xt = 45682.06\nüìà √Ör 12: ins√§ttning + tillv√§xt = 44830.29\nüìà √Ör 13: ins√§ttning + tillv√§xt = 43994.39\nüìà √Ör 14: ins√§ttning + tillv√§xt = 43174.08\nüìà √Ör 15: ins√§ttning + tillv√§xt = 42369.07\nüìà √Ör 16: ins√§ttning + tillv√§xt = 41579.07\nüìà √Ör 17: ins√§ttning + tillv√§xt = 40803.80\nüìà √Ör 18: ins√§ttning + tillv√§xt = 40042.98\nüìà √Ör 19: ins√§ttning + tillv√§xt = 39296.35\nüìà √Ör 20: ins√§ttning + tillv√§xt = 38563.64\nüìà √Ör 21: ins√§ttning + tillv√§xt = 37844.59\nüìà √Ör 22: ins√§ttning + tillv√§xt = 37138.95\nüìà √Ör 23: ins√§ttning + tillv√§xt = 36446.47\nüìà √Ör 24: ins√§ttning + tillv√§xt = 35766.90\nüìà √Ör 25: ins√§ttning + tillv√§xt = 35100.00\nüì¶ Totalt kapital med tillv√§xt = 1110018.28, m√•natlig pension = 4625.08'}
2025-05-02 15:04:43,401 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'response']
2025-05-02 15:04:43,401 INFO main: Cleaned response: H√§r √§r stegen fr√•n senaste ber√§kningen:

üßÆ Ber√§kning startad: √•lder=40, l√∂n=65000, pensions√•lder=65,...
2025-05-02 15:04:43,401 INFO main: [chat endpoint] Final response: 'H√§r √§r stegen fr√•n senaste ber√§kningen:\n\nüßÆ Ber√§kning startad: √•lder=40, l√∂n=65000, pensions√•lder=65, √•r till pension=25, tillv√§xt=0.019, l√∂nev√§xling=0, l√∂nev√§xlingspremie=0\nüí∞ Avs√§ttning: 4.5% av 65000 = 2925.0, 30.0% av 0 = 0.0\nüìÖ √Örlig avs√§ttning = 35100.0, m√•natlig = 2925.00\nüìà √Ör 1: ins√§ttning + tillv√§xt = 55142.64\nüìà √Ör 2: ins√§ttning + tillv√§xt = 54114.46\nüìà √Ör 3: ins√§ttning + tillv√§xt = 53105.46\nüìà √Ör 4: ins√§ttning + tillv√§xt = 52115.27\nüìà √Ör 5: ins√§ttning + tillv√§xt = 51143.54\nüìà √Ör 6: ins√§ttning + tillv√§xt = 50189.93\nüìà √Ör 7: ins√§ttning + tillv√§xt = 49254.10\nüìà √Ör 8: ins√§ttning + tillv√§xt = 48335.73\nüìà √Ör 9: ins√§ttning + tillv√§xt = 47434.47\nüìà √Ör 10: ins√§ttning + tillv√§xt = 46550.02\nüìà √Ör 11: ins√§ttning + tillv√§xt = 45682.06\nüìà √Ör 12: ins√§ttning + tillv√§xt = 44830.29\nüìà √Ör 13: ins√§ttning + tillv√§xt = 43994.39\nüìà √Ör 14: ins√§ttning + tillv√§xt = 43174.08\nüìà √Ör 15: ins√§ttning + tillv√§xt = 42369.07\nüìà √Ör 16: ins√§ttning + tillv√§xt = 41579.07\nüìà √Ör 17: ins√§ttning + tillv√§xt = 40803.80\nüìà √Ör 18: ins√§ttning + tillv√§xt = 40042.98\nüìà √Ör 19: ins√§ttning + tillv√§xt = 39296.35\nüìà √Ör 20: ins√§ttning + tillv√§xt = 38563.64\nüìà √Ör 21: ins√§ttning + tillv√§xt = 37844.59\nüìà √Ör 22: ins√§ttning + tillv√§xt = 37138.95\nüìà √Ör 23: ins√§ttning + tillv√§xt = 36446.47\nüìà √Ör 24: ins√§ttning + tillv√§xt = 35766.90\nüìà √Ör 25: ins√§ttning + tillv√§xt = 35100.00\nüì¶ Totalt kapital med tillv√§xt = 1110018.28, m√•natlig pension = 4625.08'
2025-05-02 15:05:43,192 INFO main: Received message: vilka avtal har du kolla p√• just nu?
2025-05-02 15:05:43,192 INFO main: Session ID: ::1
2025-05-02 15:05:43,199 INFO main: Processing message: vilka avtal har du kolla p√• just nu?
2025-05-02 15:05:43,201 INFO src.graph.pension_graph: Processing question: vilka avtal har du kolla p√• just nu?
2025-05-02 15:05:43,201 INFO agent_logger: [AGENT] Start process. State: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...'}
2025-05-02 15:05:43,202 INFO agent_logger: [AGENT] Received question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 15:05:43,202 INFO agent_logger: [AGENT] Trying tool: CalculatorTool
2025-05-02 15:05:43,202 INFO agent_logger: [AGENT] Tool CalculatorTool.can_handle returned: False
2025-05-02 15:05:43,202 INFO agent_logger: [AGENT] Trying tool: SummaryCheckerTool
2025-05-02 15:05:43,204 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 15:05:43,204 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 15:05:43,205 INFO agent_logger: [AGENT] Tool SummaryCheckerTool.can_handle returned: True
2025-05-02 15:05:43,205 INFO agent_logger: [AGENT] Selected tool: SummaryCheckerTool
2025-05-02 15:05:43,206 INFO agent_logger: [AGENT] Running tool SummaryCheckerTool with standard execution (no parameter extraction)
2025-05-02 15:05:43,206 INFO agent_logger: [AGENT] [NON-CALC] Try block START. state id: 1630902154112; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 15:05:43,206 INFO agent_logger: [AGENT] [NON-CALC] Before tool run. state id: 1630902154112; state: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool'}
2025-05-02 15:05:43,207 INFO src.tools.summary_checker: Running summary checker tool with question: 'vilka avtal har du kolla p√• just nu?'
2025-05-02 15:05:43,208 INFO src.tools.summary_checker: Found matching summary: available_agreements.json
2025-05-02 15:05:43,209 INFO src.tools.summary_checker: Returning summary content: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 15:05:43,210 INFO src.tools.summary_checker: [SUMMARY_TOOL] _find_matching_summary returned: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 15:05:43,211 INFO src.tools.summary_checker: Returning summary response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).
2025-05-02 15:05:43,211 INFO agent_logger: [AGENT] [NON-CALC] After tool run. result id: 1630902154112; result: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': 'üîç Bearbetar fr√•gan...', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 15:05:43,213 INFO agent_logger: [AGENT] [NON-CALC] Try block END. Returning result.
2025-05-02 15:05:43,214 INFO main: Final state from LangGraph: {'question': 'vilka avtal har du kolla p√• just nu?', 'user_language': 'sv', 'conversation_history': [], 'status': '‚úÖ Klar', 'followup_count': 0, 'active_tool': 'SummaryCheckerTool', 'response': 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).', 'response_source': 'summary_json'}
2025-05-02 15:05:43,215 INFO main: [DEBUG] state keys: ['question', 'user_language', 'conversation_history', 'status', 'followup_count', 'active_tool', 'response', 'response_source']
2025-05-02 15:05:43,215 INFO main: Cleaned response: Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommun...
2025-05-02 15:05:43,215 INFO main: [chat endpoint] Final response: 'Jag har information om f√∂ljande pensionsavtal: PA16 (f√∂r statligt anst√§llda) och SKR2023 (f√∂r kommunalt anst√§llda).'
2025-05-02 17:31:34,985 INFO main:  Shutting down system...
2025-05-02 17:55:14,447 INFO main: Starting server on localhost:9090
2025-05-02 17:55:14,584 INFO main:  Starting system initialization...
2025-05-02 17:55:14,587 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\data
2025-05-02 17:55:14,588 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs
2025-05-02 17:55:14,590 INFO main:  Ensured directory exists: D:\AI folder\AI agent\LangGraph_agent\SIWRA_pension_restructured\docs\agreements
2025-05-02 17:55:14,591 INFO main:  Creating new cost tracking database...
2025-05-02 17:55:14,591 INFO main:  System initialization completed successfully
2025-05-03 00:38:11,441 INFO main:  Shutting down system...
